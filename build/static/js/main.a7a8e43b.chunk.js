(this["webpackJsonphft-frontend"]=this["webpackJsonphft-frontend"]||[]).push([[0],{266:function(e,t){},290:function(e,t){},292:function(e,t){},465:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(16),o=a.n(c),s=a(134),i=a(20),l=a(24),u=a(226),d=a(534),m=a(535),p=a(536),b=a(135),f=a(32),j=a(26),h=a(5),g=a(15),O=a.n(g),x=a(102),y=a(7),S=a.n(y),v=a(505),k=a(11),C=a(467),T=a(531),N=a(527),w=a(520),F=a(515),I=a(516),P=a(523),A=a(525),E=a(526),V=a(514),R=a(518),W=a(227),L=a(541),U=a(532),M=a(502),J=a(8),D=a(18),B=a(224),K=a.n(B),z=a(132),q=a.n(z),Z=a(133),G=a.n(Z),H=a(223),Y=a.n(H),Q=a.p+"static/media/kadena_r_rev_3_whi_lor.7da4e7c0.png",X=a(17),_=a(528),$=a(529),ee=a(530),te=a(537),ae=a(59),ne=a(517),re=a(519),ce=a(469),oe=a(513),se=a(543),ie=a(19),le=a.n(ie),ue=function(e,t,a){if(typeof e!==t)throw new TypeError(a+" must be a "+t+": "+JSON.stringify(e))},de=function(e,t){if(!Array.isArray(e))throw new TypeError(t+" must be an array: "+JSON.stringify(e))},me=!1,pe=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];var n;me&&t.length&&(n=console).debug.apply(n,["[Pact.SigBuilder]"].concat(t))},be=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return ue(e,"string","mkCap's name"),de(t,"mkCap's args"),{name:e,args:t}},fe=be("coin.GAS",[]),je=function(e){return ue(e,"string","mkSignerGas' publicKey"),he(e,[fe])},he=function(e,t){return ue(e,"string","mkSignerCList's publicKey"),de(t,"mkSignerCList's caps"),[{clist:t,pubKey:e}]},ge=function(){return Math.round((new Date).getTime()/1e3)-15},Oe=function(){return JSON.stringify((new Date).toISOString())},xe=function(e,t,a,n){var r=n.nonce;de(e,"mkCmdTemplate's signers"),ue(t,"string","mkCmdTemplate's networkId"),ue(a,"object","mkCmdTemplate's"),r&&ue(r,"string","mkCmdTemplate's nonce");var c={networkId:t,signers:e,meta:a,nonce:r||Oe()};return pe("corePayload",c),c},ye=function(e,t,a,n,r){var c=r.data,o=r.nonce;ue(e,"string","mkExecPayload's pactCode"),de(t,"mkExecPayload's signers"),ue(a,"string","mkExecPayload's networkId"),ue(n,"object","mkExecPayload's"),c&&ue(c,"object","mkExecPayload's envData"),o&&ue(o,"string","mkExecPayload's nonce");var s=xe(t,a,n,{nonce:o});return s.payload={exec:{data:c||{},code:e}},pe("execPayload",s),s},Se=function(e,t,a,n,r,c){var o=c.nonce,s=c.data,i=c.proof,l=c.rollback;ue(e,"string","mkContPayload's pactId"),ue(t,"number","mkContPayload's pactId"),de(a,"mkContPayload's signers"),ue(n,"string","mkContPayload's networkId"),ue(r,"object","mkContPayload's meta"),o&&ue(o,"string","mkContPayload's nonce"),i?ue(i,"string","mkContPayload's proof"):i=null,s?ue(s,"object","mkContPayload's data"):s=null,l?ue(l,"boolean","mkContPayload's rollback"):l=!1;var u=xe(a,n,r,{nonce:o});return u.payload={cont:{pactId:e,step:t,rollback:l,data:s,proof:i}},pe("contPayload",u),u},ve=function(e){return de(e,"pubKeysFromSigners' signers must be an array"),e.map((function(e){return e.pubKey}))},ke=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a={};t.length?t.map((function(e){return a[e]=null,null})):ve(e.signers).map((function(e){return a[e]=null,null}));var n=JSON.stringify(e),r={hash:le.a.crypto.hash(n),cmd:n,sigs:a};return pe("mkSigData",r),r},Ce={mkMeta:function(e,t,a,n,r,c){return ue(e,"string","sender"),ue(t,"string","chainId"),ue(a,"number","gasPrice"),ue(n,"number","gasLimit"),ue(r,"number","creationTime"),ue(c,"number","ttl"),{creationTime:r,ttl:c,gasLimit:n,chainId:t,gasPrice:a,sender:e}},mkCap:be,mkSignerGas:je,mkSignerCList:he,mkSignerUnrestricted:function(e){return ue(e,"string","mkSignerUnrestricted's publicKey"),[{pubKey:e}]},mkExecPayload:ye,mkContPayload:Se,mkSigData:ke,util:{gasCap:fe,addGasCap:function(e){return de(e,"addGasCap's caps"),e.push(fe),e},mergeSigners:function(e){return de(e,"mergeSigners's arrayOfSigners"),e.flat()},autoCreationTime:ge,autoNonce:Oe,pubKeysFromSigners:ve},ex:{execCmdExample1:function(e){var t=e.user,a=e.signingPubKey,n=e.networkId,r=e.gasPrice,c=e.gasLimit,o=je(a),s={sender:t,chainId:"1",gasPrice:r,gasLimit:c,creationTime:ge(),ttl:28800},i=le.a.lang.mkMeta(s.sender,s.chainId,s.gasPrice,s.gasLimit,s.creationTime,s.ttl);pe("caps",o);var l={pactCode:"(+ 1 1)",data:{foo:"bar"},signers:o,networkId:n,meta:i},u=ye(l.pactCode,l.signers,l.networkId,l.meta,{data:l.data});return ke(u)},contCmdExample1:function(e){var t=e.user,a=e.signingPubKey,n=e.networkId,r=e.gasPrice,c=e.gasLimit,o=je(a),s={sender:t,chainId:"4",gasPrice:r,gasLimit:c,creationTime:ge(),ttl:28800},i=le.a.lang.mkMeta(s.sender,s.chainId,s.gasPrice,s.gasLimit,s.creationTime,s.ttl);pe("caps",o);var l={proof:"eyJjaGFpbiI6NCwib2JqZWN0IjoiQUFBQUVBQUFBQUFBQUFBQkFOQ1lzbnNjV2VWcHRtNWd6eXl2YzZxRTAxX195QzV3LUx5R3p4SWNOc0ZOQUxLY19UeVd6YlphVjA1TjBtMFdVQjVxTFVoY2FSUDd2NHpEbkJhY21ORExBZWhPUk94V0FyQmJ1emV2dktNR1BlMHVGVV9QTzJ6MzdULS1jS2F0NnV3ekFWWU5Fdzk1S1prckdRMF93ZXZFVkdsaFkyTEwycUxHZXF2NnJ4UFBMMHFrQUFlVmRSanRvYU4xSHNhSF9xek1LUjRnZ29acGZoSVVVMEJSSG0yWmh0emVBY0pjV0w1ejlzZlU4ZFdVUlFTMF9rUmR3ajZaeGFRQ2FicTdYcl9aeEQ1UUFBWUdoZHBWX3V1b3FxOXVaYkdON1N0LVNqYXp3cTFRLTdxdWIzSHhHV0tkQU1iX3E5T2k5YXRjVXYydERaQUpCVHJiV1pZM2s4VTc4YTlMX1pWc0pXRDVBY212eUJvTFViNHhKY1FiWldoRG85eDZGQ19uaU5mOXFkMVVZRWtySFZXN0FOU3pwNm5pNHJvZUprSGxZal9vVnZuN1lxdXRGZE41TlVzc09jd1ZyMmRUQU11dnQ1aWVVdGVFc3hRQ1VOeEp5SXN3WUFDUGxTUzdMWkZPUy1HM2NGOThBTVhlRnJ4NFFLVUludVVfYlFyclR0UEdCc2dKWGxib0hrMHlCamNaRWNhT0FBNHVRcDhYbENBYnFGclFCTWRISFJic3dtT05RcEtUN210SnZEQUpCNzZqQVdFb0E5V1paVG9UWHZKcGlESDcySFFTdFRwNTdrRDZlUEFoTXkzUFA0NFZBQ1I5MEFHdVVWeHlwd3VCMEVHM1NOOGJLSG9QUW9ab1pVRDNScDkzX05DdEFNRktXb3FZZFRITXpGcHJSM2R1Q2d3bzhVbnpRZ29Ta1dnc2U2UEU5S3FxIiwic3ViamVjdCI6eyJpbnB1dCI6IkFCUjdJbWRoY3lJNk5qQXdMQ0p5WlhOMWJIUWlPbnNpYzNSaGRIVnpJam9pWm1GcGJIVnlaU0lzSW1WeWNtOXlJanA3SW1OaGJHeFRkR0ZqYXlJNlcxMHNJblI1Y0dVaU9pSkZkbUZzUlhKeWIzSWlMQ0p0WlhOellXZGxJam9pVkhsd1pTQmxjbkp2Y2pvZ1pYaHdaV04wWldRZ1pHVmphVzFoYkN3Z1ptOTFibVFnYVc1MFpXZGxjaUlzSW1sdVptOGlPaUk4YVc1MFpYSmhZM1JwZG1VLU9qQTZNVFF4TlRRaWZYMHNJbkpsY1V0bGVTSTZJblJ4TVVoNFVtMVplRkZHYXkwdFpHNUVRbEJXYzBod1RteGpRbXhQUlhKT05FOTNSVmhTYVdOR1FXY2lMQ0pzYjJkeklqb2laSEJEVEZGblVtTnVZbTlZYjBNNVpVaExObU5OYzBWNU1HUXpVRUZ1TTFGTmNFOXFNMUUyVkZCSFNTSXNJbVYyWlc1MGN5STZXM3NpY0dGeVlXMXpJanBiSW1KbE1qSTVaalJoT1RjMVpUUTBNV1JqTmprMFpHVmtNR1U1TWpZd1pEazVNekkzTURFeU9EY3dNbVptTldFMVlXWTNZbVZrTW1VME1tTTVOV05sTURraUxDSmtZamMzTmpjNU0ySmxNR1pqWmpobE56WmpOelZpWkdJek5XRXpObVUyTjJZeU9UZ3hNVEZrWXpZeE5EVmpOalkyT1ROaU1ERXpNekU1TW1VeU5qRTJJaXcyTGpCbExUWmRMQ0p1WVcxbElqb2lWRkpCVGxOR1JWSWlMQ0p0YjJSMWJHVWlPbnNpYm1GdFpYTndZV05sSWpwdWRXeHNMQ0p1WVcxbElqb2lZMjlwYmlKOUxDSnRiMlIxYkdWSVlYTm9Jam9pTVc5elgzTk1RVlZaZGtKNmMzQnVOV3BxWVhkMFVuQktWMmxJTVZkUVptaDVUbkpoWlZaMlUwbDNWU0o5WFN3aWJXVjBZVVJoZEdFaU9tNTFiR3dzSW1OdmJuUnBiblZoZEdsdmJpSTZiblZzYkN3aWRIaEpaQ0k2Ym5Wc2JIMCJ9LCJhbGdvcml0aG0iOiJTSEE1MTJ0XzI1NiJ9",pactId:"tq1HxRmYxQFk--dnDBPVsHpNlcBlOErN4OwEXRicFAg",step:1,signers:o,networkId:n,meta:i},u=Se(l.pactId,l.step,l.signers,l.networkId,l.meta,{proof:l.proof});return ke(u)}},debug:{toggleDebug:function(){me=!me,console.log("[Pact.SigBuilder] debugMode set to",me)}}},Te=a(542),Ne=a(521),we=a(110),Fe=a.n(we),Ie=a(522),Pe=a(538),Ae=a(111),Ee=a(468),Ve=a(524),Re=a(232),We=a(6),Le=a(506),Ue=a(507),Me=a(508),Je=a(509),De=a(510),Be=a(511),Ke=a(540),ze=a(90),qe=a.n(ze),Ze=a(136),Ge=a.n(Ze),He=a(137),Ye=a.n(He),Qe=(a(458),a(544)),Xe=a(2),_e=Object(M.a)((function(e){return{root:{"& p img":{width:"100%"}}}})),$e={name:"add tag",icon:function(){return Object(Xe.jsx)(Qe.a,{size:"small",variant:"outline",color:"default",label:"Tag",style:{marginTop:"-5px"}})},execute:function(e){e.textApi.replaceSelection("[](tag)")}},et=function(e){var t=e.value,a=e.onChange,r=Object(n.useState)("write"),c=Object(h.a)(r,2),o=c[0],s=c[1],i=_e(),l=function(){var e=Object(j.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return alert("No attachments!"),e.abrupt("return","No Attachments");case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),u=Object(ze.getDefaultCommandMap)();u.cmdTag=$e;var d=Object(ze.getDefaultToolbarCommands)();return d.push(["cmdTag"]),Object(Xe.jsx)(qe.a,{value:t,onChange:a,commands:u,toolbarCommands:d,selectedTab:o,onTabChange:s,generateMarkdownPreview:function(e){console.log(ct(e));var t=Object(Xe.jsx)(nt,{tags:at(e)}),a=S.a.clone(e).replaceAll(tt,""),n=Promise.resolve(Object(Xe.jsxs)("div",{children:[t,Object(Xe.jsx)(Ge.a,{remarkPlugins:[Ye.a],children:a,className:i.root})]}));return console.debug("react-mde-preview=".concat(n),n),n},childProps:{writeButton:{tabIndex:-1}},paste:{saveImage:l}})},tt=/\[([^\[]+)\](\(tag\))/gim,at=function(e){var t,a=[];do{(t=tt.exec(e))&&a.push(t[1])}while(t);return S.a.uniq(a.map((function(e){return e.toLocaleLowerCase()})))},nt=function(e){return e.tags.map((function(e){switch(console.log(e),e){case"bug hunt":return Object(Xe.jsx)(Qe.a,{size:"small",color:"primary",label:"Bug Hunt",style:{backgroundColor:"red"}});case"dao":return Object(Xe.jsx)(Qe.a,{size:"small",color:"primary",label:"DAO"});case"frontend":return Object(Xe.jsx)(Qe.a,{variant:"outlined",size:"small",color:"primary",label:"Frontend"});case"cold coffee":return Object(Xe.jsx)(Qe.a,{size:"small",color:"default",label:"Cold Coffee"});default:return null}}))},rt=/\[(.*[^\[]+)\](\(tag\))/gim,ct=function(e){return e.match(rt).map((function(e){return e[1]}))},ot=(Object(M.a)((function(e){return{root:{display:"flex",flexWrap:"wrap","& .MuiTextField-root":{margin:e.spacing(1),width:"25ch"}},margin:{margin:e.spacing(1)},withoutLabel:{marginTop:e.spacing(3)},textField:{width:"25ch"},formControl:{margin:e.spacing(1),minWidth:120},selectEmpty:{marginTop:e.spacing(2)}}})),function(e){return e.split("-").map((function(e){return e.replace(new RegExp("^.","gm"),(function(e){return e.toUpperCase()}))})).join(" ")}),st=function(e){return!e||"object"!==typeof e||("timep"in e||"int"in e||"decimal"in e||"time"in e)},it=function(e){return e&&"object"===typeof e?"time"in e?e.time:"timep"in e?e.timep:"int"in e?"string"===typeof e.int?e.int:e.int.toLocaleString():"decimal"in e?"string"===typeof e.decimal?e.decimal:e.decimal.toLocaleString():JSON.stringify(e):"boolean"===typeof e?e.toString():"string"===typeof e?e:"number"===typeof e?e.toLocaleString():JSON.stringify(e)},lt=function(e){var t=Object.assign({},e);return Object(Xe.jsx)(Ae.a,Object(X.a)({elevation:0},t))},ut=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e?Object(M.a)({table:{minWidth:650},root:{"& > *":{borderBottom:"unset"}}}):!1===t?Object(M.a)({table:{minWidth:650}}):Object(M.a)({table:{height:t,minWidth:650}})},dt=function e(t){var a=t.json||{},n=t.isNested||!1,c=ut(n)(),o=t.header||[],s=t.keyFormatter?t.keyFormatter:function(e){return e},i=t.valFormatter?t.valFormatter:function(e){return Object(Xe.jsx)("code",{children:it(e)})},l=function(){return Object(Xe.jsxs)(r.a.Fragment,{children:[Object(Xe.jsx)(Le.a,{children:Object(Xe.jsx)(Ue.a,{children:o.map((function(e){return Object(Xe.jsx)(Me.a,{children:e})}))})}),Object(Xe.jsx)(Je.a,{children:Object.entries(a).map((function(t){var n=Object(h.a)(t,2),c=n[0],o=n[1];return Object(Xe.jsxs)(Ue.a,{children:[!1===Array.isArray(a)?Object(Xe.jsx)(Me.a,{children:s(c)}):Object(Xe.jsx)(r.a.Fragment,{}),st(o)?Object(Xe.jsx)(Me.a,{children:i(o)}):"object"===typeof o?Object(Xe.jsx)(e,{json:o,keyFormatter:s,valFormatter:i,isNested:!0}):"function"===typeof o?Object(Xe.jsx)(Me.a,{children:i(o.toString())}):Object(Xe.jsx)(Me.a,{children:i(o)})]},c)}))})]})};return n?Object(Xe.jsx)(De.a,{className:c.table,size:"small","aria-label":"simple table",children:l()}):Object(Xe.jsx)(Be.a,{component:lt,children:Object(Xe.jsx)(De.a,{className:c.table,size:"small","aria-label":"simple table",children:l()})})},mt=function e(t){var a=!t.isNested&&(t.height?t.height:"500px"),n=S.a.isArray(t.json)?t.json:[],c=t.isNested||!1,o=ut(c,a)(),s=t.header||[],i=[];t.keyOrder?i=t.keyOrder:Array.isArray(t.json)&&n.length>0&&(i=Object.keys(n[0]));var l=t.keyFormatter?t.keyFormatter:function(e){return e},u=t.valFormatter?t.valFormatter:function(e){return Object(Xe.jsx)("code",{children:it(e)})},d=t.kvFunc||{},m=function(){return Object(Xe.jsxs)(r.a.Fragment,{children:[Object(Xe.jsx)(Le.a,{children:Object(Xe.jsx)(Ue.a,{children:s.map((function(e){return Object(Xe.jsx)(Me.a,{children:e},e)}))})}),Object(Xe.jsx)(Je.a,{children:n.map((function(t){return Object(Xe.jsx)(Ue.a,{children:i.map((function(a){var n=t[a];return Object(Xe.jsx)(Me.a,{children:S.a.has(d,a)?d[a](t):st(n)?u(n):Array.isArray(n)?Object(Xe.jsx)(e,{json:n,keyFormatter:l,valFormatter:u,isNested:!0}):"object"===typeof n?Object(Xe.jsx)(dt,{json:n,keyFormatter:l,valFormatter:u,isNested:!0}):u("function"===typeof n?n.toString():n)},a)}))},t[i[0]])}))})]})};return c?Object(Xe.jsx)(De.a,{className:o.table,size:"small","aria-label":"simple table",children:m()}):Object(Xe.jsx)(Be.a,{component:lt,className:o.table,children:Object(Xe.jsx)(De.a,{className:o.table,size:"small","aria-label":"pact read table toplevel",children:m()})})},pt=function(e){var t=e.getVal,a=e.setVal,n=e.options,r=e.label;return console.debug("fixed multi selector",{options:n}),Object(Xe.jsx)(se.a,{multiple:!0,id:"grouped-demo",freeSolo:!0,options:n,groupBy:function(e){return e.type},getOptionLabel:function(e){return JSON.stringify(e.value)},sx:{width:300},value:t,onChange:function(e,t){return a(t)},renderInput:function(e){return Object(Xe.jsx)(te.a,Object(X.a)(Object(X.a)({},e),{},{label:r}))}})},bt=function(e){var t=e.inputField,a=t.type,n=t.label,r=t.options,c=t.placeholder,o=t.className,s=t.onChange,i=t.value;return"select"===a?Object(Xe.jsx)(te.a,{id:"outlined-multiline-static",select:!0,required:!0,fullWidth:!0,className:o,variant:"outlined",label:n,value:i,onChange:function(e){s(e.target.value)},children:r.map((function(e){return Object(Xe.jsx)(I.a,{value:e,children:e},e)}))}):"textFieldSingle"===a?Object(Xe.jsx)(te.a,{required:!0,fullWidth:!0,value:i,className:o,placeholder:c,variant:"outlined",label:n,onChange:function(e){return s(e.target.value)}}):"textFieldMulti"===a?Object(Xe.jsx)(te.a,{required:!0,fullWidth:!0,label:n,className:o,multiline:!0,rows:4,variant:"outlined",placeholder:c,onChange:function(e){return s(e.target.value)}}):"checkbox"===a?Object(Xe.jsx)(Ke.a,{checked:i,onChange:function(e){return s(e.target.value)},color:"primary",label:n}):"markdown"===a?Object(Xe.jsx)(et,{value:i,onChange:s}):"keySelector"===a?Object(Xe.jsx)(Wt,{label:n,getVal:i,setVal:s,allOpts:r}):"fixedGroupMultiSelector"===a?Object(Xe.jsx)(pt,{label:n,getVal:i,setVal:s,options:r}):null},ft=function(e){var t=e.inputFields,a=e.onSubmit,r=e.pactTxStatus,c=e.refresh,o=r.txStatus,s=Pt(),i=s.current,l=i.walletName,u=i.signingKey,d=i.networkId,m=s.globalConfig.chainId,p=Jt(d,m),b=Object(n.useState)(!1),f=Object(h.a)(b,2),j=f[0],g=f[1];return Object(n.useEffect)((function(){return g(!1)}),[t]),Object(n.useEffect)((function(){return g(""!==o||j)}),[o]),Object(Xe.jsxs)("div",{children:[Object(Xe.jsxs)("form",{autoComplete:"off",onSubmit:function(e){return a(e)},children:[t.map((function(e){return Object(Xe.jsx)(bt,{inputField:e})})),Object(Xe.jsx)(ne.a,{children:"pending"===o?null:Object(Xe.jsx)(R.a,{variant:"outlined",color:"default",type:"submit",disabled:j,children:l?j?"Complete Signing in Wallet":"Sign with ".concat(l," using key ").concat(u.substring(0,4),"...").concat(u.substring(u.length-4)):"Configure and select a wallet before proceeding"})})]}),"pending"===o?Object(Xe.jsx)(re.a,{}):null,Object(Xe.jsx)(St,{pactTxStatus:r,host:p,refresh:c})]})},jt=function(e){var t=e.inputFields,a=e.onSubmit,r=Object(n.useState)(!1),c=Object(h.a)(r,2),o=c[0],s=c[1];return Object(n.useEffect)((function(){return s(!1)}),[t]),Object(Xe.jsx)("div",{children:Object(Xe.jsxs)("form",{autoComplete:"off",onSubmit:function(e){return a(e)},children:[t.map((function(e){return Object(Xe.jsx)(bt,{inputField:e})})),Object(Xe.jsx)(ne.a,{children:o?null:Object(Xe.jsx)(R.a,{variant:"outlined",color:"default",type:"submit",disabled:o,children:"Execute Local Command"})})]})})},ht=!1,gt=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];var n;ht&&t.length&&(n=console).debug.apply(n,["[PactTxStatus]"].concat(t))},Ot=Object(M.a)((function(e){return{root:{width:"100%","& > * + *":{marginTop:e.spacing(2)}}}})),xt=function(e,t){var a=t.setTx,n=t.setTxRes,r=t.setTxStatus;a(e),n({}),r("do-signing")},yt=function(){var e=Object(j.a)(O.a.mark((function e(t,a,n,r){var c,o,s,i,l=arguments;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=l.length>4&&void 0!==l[4]?l[4]:function(){},gt("trackSigDataResults start",{sigData:t,host:r}),e.prev=2,o=t.hash,a("pending"),e.prev=5,s=8,i={};case 8:if(!(s>0)){e.next=18;break}return e.next=11,le.a.fetch.poll({requestKeys:[o]},r);case 11:i=e.sent,gt("trackSigDataResult",{res:i});try{i[o].result.status?s=-1:s-=1}catch(u){s-=1}return e.next=16,new Promise((function(e){return setTimeout(e,15e3)}));case 16:e.next=8;break;case 18:n(i),"success"===i[o].result.status?(gt("tx status set to success"),a("success"),c()):0===s?(gt("tx status set to timeout"),a("timeout"),c()):(gt("tx status set to failure"),a("failure")),e.next=28;break;case 23:e.prev=23,e.t0=e.catch(5),gt("tx api failure",e.t0),n(e.t0),a("failure");case 28:e.next=35;break;case 30:e.prev=30,e.t1=e.catch(2),n(e.t1.toString()),gt("tx status set to validation error",e.t1),a("validation-error");case 35:case"end":return e.stop()}}),e,null,[[2,30],[5,23]])})));return function(t,a,n,r){return e.apply(this,arguments)}}(),St=function(e){var t=e.pactTxStatus,a=e.host,c=e.refresh,o=void 0===c?function(){}:c,s=t.tx,i=t.txRes,l=t.setTxRes,u=t.txStatus,d=t.setTxStatus,m=Object(n.useState)(!0),p=Object(h.a)(m,2),b=p[0],f=p[1],j=Object(n.useState)(!1),g=Object(h.a)(j,2),O=g[0],x=g[1],y=Ot(),S="pending"===u?"info":"success"===u?"success":"timeout"===u?"warning":"error";return Object(n.useEffect)((function(){return f(!0)}),[u]),Object(n.useEffect)((function(){"submitted"===u&&(console.log("[PactTxStatus] trackSigDataResults",{tx:s,host:a}),yt(s,d,l,a,o))}),[u]),"do-signing"===u?Object(Xe.jsx)(Ct,{pactTxStatus:t}):""===u||"submitted"===u?Object(Xe.jsx)(r.a.Fragment,{}):Object(Xe.jsx)("div",{className:y.root,children:Object(Xe.jsx)(w.a,{in:b,children:Object(Xe.jsxs)(Te.a,{severity:S,action:Object(Xe.jsx)(V.a,{"aria-label":"close",color:"inherit",size:"small",onClick:function(){return f(!1)},children:Object(Xe.jsx)(Fe.a,{fontSize:"inherit"})}),children:[Object(Xe.jsx)(Ne.a,{children:Object(Xe.jsxs)(Ie.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center",children:[Object(Xe.jsx)(Ie.a,{item:!0,children:ot(u)}),"validation-error"===u||"failure"===u?Object(Xe.jsxs)(Ie.a,{item:!0,children:[Object(Xe.jsx)(P.a,{orientation:"vertical",flexItem:!0}),Object(Xe.jsx)(R.a,{size:"small",onClick:function(){return x(!0)},children:"View Error"})]}):Object(Xe.jsx)(r.a.Fragment,{})]})}),"pending"===u?Object(Xe.jsxs)(r.a.Fragment,{children:[Object(Xe.jsx)("p",{children:"Awaiting Confirmation"}),Object(Xe.jsx)("a",{href:"".concat(We.hftAPI.explorerURL,"/tx/").concat(s.hash),children:"Eventual Block Explorer Link"})]}):"success"===u?Object(Xe.jsx)(r.a.Fragment,{children:Object(Xe.jsx)("a",{href:"".concat(We.hftAPI.explorerURL,"/tx/").concat(s.hash),children:"View transaction in Block Explorer"})}):"failure"===u?Object(Xe.jsxs)(r.a.Fragment,{children:[Object(Xe.jsx)("a",{href:"".concat(We.hftAPI.explorerURL,"/tx/").concat(s.hash),children:"View transaction in Block Explorer"}),Object(Xe.jsx)("div",{children:Object(Xe.jsx)(Re.a,{open:O,onClose:function(){return x(!1)},children:Object(Xe.jsx)(v.a,{maxWidth:"lg",children:Object(Xe.jsx)(dt,{json:i})})})})]}):"timeout"===u?Object(Xe.jsxs)(r.a.Fragment,{children:[Object(Xe.jsx)("p",{children:"...but your tx was sent."}),Object(Xe.jsx)("a",{href:"".concat(We.hftAPI.explorerURL,"/tx/").concat(s.hash),children:"View transaction in Block Explorer"})]}):"validation-error"===u?Object(Xe.jsxs)(r.a.Fragment,{children:[Object(Xe.jsx)(Pe.a,{children:"Transaction was not sent to Blockchain. Check your keys or metadata."}),Object(Xe.jsx)("div",{children:Object(Xe.jsx)(Re.a,{open:O,onClose:function(){return x(!1)},children:Object(Xe.jsx)(v.a,{maxWidth:"md",children:Object(Xe.jsx)(Ae.a,{children:JSON.stringify(i)})})})})]}):Object(Xe.jsx)(r.a.Fragment,{})]})})})},vt=Object(M.a)((function(e){return{appBar:{position:"relative"},title:{marginLeft:e.spacing(2),flex:1}}})),kt=r.a.forwardRef((function(e,t){return Object(Xe.jsx)(Ee.a,Object(X.a)({direction:"up",ref:t},e))})),Ct=function(e){var t=e.pactTxStatus,a=t.tx,r=t.setTxStatus,c=Object(n.useState)(!0),o=Object(h.a)(c,2),s=o[0],i=o[1],l=function(){r(""),i(!1)},u=vt();return Object(Xe.jsxs)(Ve.a,{fullScreen:!0,open:s,onClose:l,TransitionComponent:kt,children:[Object(Xe.jsx)(A.a,{className:u.appBar,children:Object(Xe.jsxs)(E.a,{children:[Object(Xe.jsx)(V.a,{edge:"start",color:"inherit",onClick:l,"aria-label":"close",children:Object(Xe.jsx)(Fe.a,{})}),Object(Xe.jsx)(ae.a,{variant:"h6",className:u.title,children:"New Transaction"}),Object(Xe.jsx)(R.a,{autoFocus:!0,variant:"outlined",color:"default",onClick:function(){r("submitted"),i(!1)},children:"I Submitted the Transaction"})]})}),Object(Xe.jsxs)(F.a,{children:[Object(Xe.jsx)(C.a,{children:Object(Xe.jsx)(N.a,{primary:"Read Me",secondary:"Until WalletConnect integration is completed, only the latest versions of Chaineweaver w/ SigBuilder UI is supported in Marmalade (see https://chainweaver.kadena.network for the latest). Please copy the SigData blob below, paste it into the SigBuilder UI in Chainweaver, and then review+sign+submit the transaction through Chainweaver. Once completed, come back to this page and click the 'I have submitted the transaction' button."})}),Object(Xe.jsx)(C.a,{children:Object(Xe.jsx)(N.a,{primary:"Copy The Transaction's SigData To Clipboard",secondary:JSON.stringify(a)})}),Object(Xe.jsx)(P.a,{}),Object(Xe.jsx)(C.a,{children:Object(Xe.jsx)(N.a,{primary:"Transaction Hash",secondary:a.hash})})]})]})},Tt=Object(ce.a)((function(){return{formControl:{margin:"5px auto",minWidth:120},selectEmpty:{marginTop:"10px auto"},inline:{display:"inline"}}})),Nt={current:{},otherWallets:{},allKeys:[],globalConfig:{},contractConfigs:{},pastPactTxs:[]},wt=Object(n.createContext)(),Ft=function(e,t){switch(t.type){case"updateWallet":if(!S.a.has(t,"newWallet"))throw new Error("updateWallet requires newWallet:{walletName,gasPrice,networkId,signingKey} key");var a=S.a.cloneDeep(e.current),n=S.a.cloneDeep(e.otherWallets);if(a.walletName&&(n[a.walletName]=a),!t.newWallet.walletName)throw new Error("updateWallet requires newWallet:{walletName,gasPrice,networkId,signingKey} key");n[t.newWallet.walletName]=t.newWallet;var r=S.a.filter(S.a.uniq(S.a.concat(S.a.cloneDeep(e.allKeys),t.newWallet.signingKey)),(function(e){return!!e}));return Object(X.a)(Object(X.a)({},e),{},{current:t.newWallet,otherWallets:n,allKeys:r});case"addKeys":if(!S.a.has(t,"newKeys"))throw new Error("addKeys requires newKeys:[] key");var c=S.a.filter(S.a.uniq(S.a.concat(S.a.cloneDeep(e.allKeys),t.newKeys)),(function(e){return!!e}));return Object(X.a)(Object(X.a)({},e),{},{allKeys:c});case"setContractConfig":if(!S.a.has(t,"configName"))throw new Error("addConfig requires configName:'' key");if(!S.a.has(t,"config"))throw new Error("addConfig requires config:'' key");var o=S.a.cloneDeep(e.contractConfigs);return o[t.configName]=t.config,Object(X.a)(Object(X.a)({},e),{},{contractConfigs:o});case"setGlobalConfig":if(!S.a.has(t,"globalConfig"))throw new Error("addConfig requires globalConfig:<object> key");return Object(X.a)(Object(X.a)({},e),{},{globalConfig:t.globalConfig});case"tractPactTx":if(!S.a.has(t,"newTx"))throw new Error("trackPactTx requires newTx:'' key");var s=S.a.concat(S.a.cloneDeep(e.pastPactTxs),t.newTx);return Object(X.a)(Object(X.a)({},e),{},{pastPactTxs:s});default:throw new Error(JSON.stringify(t))}},It=function(e){var t=e.globalConfig,a=e.contractConfigs,r=e.children,c=Object(x.a)("pactWallet7")({}),o=Object(h.a)(c,2),s=o[0],i=o[1],l=Object(n.useReducer)(Ft,S.a.size(s)?S.a.cloneDeep(s):Nt),u=Object(h.a)(l,2),d=u[0],m=u[1];return Object(n.useEffect)((function(){S.a.size(d)&&!S.a.isEqual(Nt,d)&&(console.debug("PactWallet.useEffect[persistedPactWallet,walletProvider,setPersistedPactWallet]",s," =to=> ",d),i(d))}),[s,d,i]),Object(n.useEffect)((function(){console.debug("PactWallet.useEffect[] fired, contratConfigs added: ",S.a.keys(a)),S.a.mapKeys(a,(function(e){return m({type:"setContractConfig",configName:e,config:a[e]})})),m({type:"setGlobalConfig",globalConfig:t})}),[]),Object(Xe.jsx)(wt.Provider,{value:{wallet:d,walletDispatch:m},children:r})},Pt=function(){return Object(n.useContext)(wt).wallet},At={primary:"Wallet",subList:[{primary:"Config",to:{app:"wallet",ui:"config"}}]},Et=function(e){var t=e.appRoute,a=e.setAppRoute;return"config"===t.ui?Object(Xe.jsxs)(_.a,{children:[Object(Xe.jsx)($.a,{title:"Wallet Configuration"}),Object(Xe.jsxs)(ee.a,{children:[Object(Xe.jsx)(Mt,{}),Object(Xe.jsx)(Lt,{}),Object(Xe.jsx)(Ut,{})]})]}):Object(Xe.jsx)(r.a.Fragment,{children:a({app:"wallet",ui:"config"})})},Vt=Object(oe.a)(),Rt=function(e){var t=e.label,a=e.getVal,n=e.setVal,r=e.allOpts,c=Tt(),o=r?S.a.cloneDeep(r):[""];return Object(Xe.jsx)(se.a,{className:c.formControl,value:a,onChange:function(e,t){"string"===typeof t?n(t):t&&t.inputValue?n(t.inputValue):n(t)},filterOptions:function(e,t){var a=Vt(e,t);return""!==t.inputValue&&a.push({inputValue:t.inputValue,title:'Add "'.concat(t.inputValue,'"')}),a},selectOnFocus:!0,fullWidth:!0,clearOnBlur:!0,handleHomeEndKeys:!0,defaultValue:a||null,options:o,getOptionLabel:function(e){return e.inputValue?e.inputValue:e},renderOption:function(e){return e.title?e.title:e},freeSolo:!0,renderInput:function(e){return Object(Xe.jsx)(te.a,Object(X.a)(Object(X.a)({},e),{},{label:t,variant:"outlined",fullWidth:!0,className:c.formControl}))}})},Wt=function(e){var t=e.label,a=e.getVal,n=e.setVal,r=e.allOpts,c=Tt(),o=r?S.a.cloneDeep(r):[""];return Object(Xe.jsx)(se.a,{multiple:!0,limitTags:3,className:c.formControl,value:a,onChange:function(e,t){"string"===typeof t?n(t):t&&t.inputValue?n(t.inputValue):n(t)},filterOptions:function(e,t){var a=Vt(e,t);return""!==t.inputValue&&a.push({inputValue:t.inputValue,title:'Add "'.concat(t.inputValue,'"')}),a},selectOnFocus:!0,fullWidth:!0,clearOnBlur:!0,handleHomeEndKeys:!0,defaultValue:a||null,options:o,getOptionLabel:function(e){return e.inputValue?e.inputValue:e},renderOption:function(e){return e.title?e.title:e},freeSolo:!0,renderInput:function(e){return Object(Xe.jsx)(te.a,Object(X.a)(Object(X.a)({},e),{},{label:t,variant:"outlined",fullWidth:!0,className:c.formControl}))}})},Lt=function(){var e=Pt().current;return Object(Xe.jsxs)(v.a,{style:{paddingTop:"2em"},children:[Object(Xe.jsx)(ae.a,{component:"h2",children:"Active Wallet"}),Object(Xe.jsx)(dt,{json:e,keyFormatter:We.keyFormatter})]})},Ut=function(){var e=Pt().otherWallets;return Object(Xe.jsxs)(v.a,{style:{paddingTop:"2em"},children:[Object(Xe.jsx)(ae.a,{component:"h2",children:"All Saved PactWallets"}),Object(Xe.jsx)(dt,{json:e,keyFormatter:We.keyFormatter})]})},Mt=function(){var e=Object(n.useContext)(wt),t=e.wallet,a=e.walletDispatch,c=Object(n.useState)(!1),o=Object(h.a)(c,2),s=o[0],i=o[1],l=Object(n.useState)(""),u=Object(h.a)(l,2),d=u[0],m=u[1],p=Object(n.useState)(""),b=Object(h.a)(p,2),f=b[0],j=b[1],g=Object(n.useState)(""),O=Object(h.a)(g,2),x=O[0],y=O[1],k=Object(n.useState)("testnet04"),C=Object(h.a)(k,2),T=C[0],N=C[1],w=Object(n.useState)("0.000001"),F=Object(h.a)(w,2),I=F[0],P=F[1],A=Object(n.useState)("10000"),E=Object(h.a)(A,2),V=E[0],W=E[1],L=Tt(),U=Object(n.useState)(""),M=Object(h.a)(U,2),J=M[0],D=M[1],B=Object(n.useState)({}),K=Object(h.a)(B,2),z=K[0],q=K[1],Z=Object(n.useState)({}),G=Object(h.a)(Z,2),H=G[0],Y=G[1],Q=Object(n.useState)(""),X=Object(h.a)(Q,2),_=X[0],$=X[1],ee={tx:z,setTx:q,txStatus:J,setTxStatus:D,txRes:H,setTxRes:Y},te=t.globalConfig.chainId,ce=Object(n.useState)(!1),oe=Object(h.a)(ce,2),se=oe[0],ie=oe[1];Object(n.useEffect)((function(){console.debug("WalletConfig useEffect on load fired with",t),S.a.size(t.current)&&(t.current.walletName&&m(t.current.walletName),t.current.signingKey&&y(t.current.signingKey),t.current.accountName&&j(t.current.accountName),t.current.gasPrice&&P(t.current.gasPrice),t.current.gasLimit&&W(t.current.gasLimit),t.current.networkId&&N(t.current.networkId))}),[]),Object(n.useEffect)((function(){if(S.a.size(t.otherWallets[d])){var e=t.otherWallets[d];console.debug("PactWalletConfig updating entries",e),e.walletName&&e.signingKey&&e.gasPrice&&e.gasLimit&&e.networkId&&e.accountName&&(P(e.gasPrice),W(e.gasLimit),y(e.signingKey),j(e.accountName),N(e.networkId),m(e.walletName))}}),[d]),Object(n.useEffect)((function(){i(!1),ie(!1)}),[d,x,I,V,T,f]);var le=[{type:"textFieldSingle",label:"Gas Price",className:L.formControl,value:I,onChange:P},{type:"textFieldSingle",label:"Gas Limit",className:L.formControl,value:V,onChange:W}];return Object(Xe.jsxs)(v.a,{style:{paddingTop:"1em"},children:[Object(Xe.jsx)(ae.a,{component:"h2",children:"Add or Update Wallet"}),Object(Xe.jsxs)("form",{autoComplete:"off",onSubmit:function(e){return function(e){if(e.preventDefault(),s){$(Jt(T,te)),Ce.debug.toggleDebug();var n=Ce.ex.execCmdExample1({chainId:te,user:f,signingPubKey:x,networkId:T,gasPrice:Number.parseFloat(I),gasLimit:Number.parseFloat(V)});xt(n,ee)}else{var r={walletName:d,signingKey:x,gasPrice:I,gasLimit:V,networkId:T,accountName:f};a({type:"updateWallet",newWallet:r}),i(!0),console.debug("WalletConfig set. locale: ",r," while context is: ",t.current)}}(e)},children:[Object(Xe.jsx)(Rt,{label:"Wallet Name",getVal:d,setVal:m,allOpts:S.a.keys(t.otherWallets)}),Object(Xe.jsx)(Rt,{label:"Network ID",getVal:T,setVal:N,allOpts:S.a.uniq(S.a.concat(S.a.map(t.otherWallets,"networkId"),"mainnet01","testnet04"))}),le.map((function(e){return Object(Xe.jsx)(bt,{inputField:e})})),Object(Xe.jsx)(Rt,{label:"Account Name",getVal:f,setVal:j,allOpts:S.a.map(t.otherWallets,"accountName")}),Object(Xe.jsx)(Rt,{label:"Select Signing Key",getVal:x,setVal:y,allOpts:t.allKeys}),Object(Xe.jsx)(ne.a,{children:s?se?Object(Xe.jsx)(r.a.Fragment,{}):Object(Xe.jsx)(r.a.Fragment,{children:Object(Xe.jsx)(R.a,{variant:"outlined",color:"default",type:"submit",children:"Test Current Settings"})}):Object(Xe.jsx)(R.a,{variant:"outlined",color:"default",type:"submit",children:"Save Current Settings"})})]}),"pending"===J?Object(Xe.jsx)(re.a,{}):null,Object(Xe.jsx)(St,{pactTxStatus:ee,host:_})]})},Jt=function(e,t){return"testnet04"===e?"https://api.testnet.chainweb.com/chainweb/0.0/".concat(e,"/chain/").concat(t,"/pact"):"https://api.chainweb.com/chainweb/0.0/".concat(e,"/chain/").concat(t,"/pact")},Dt=Object(M.a)((function(e){return{root:{display:"flex"},drawer:Object(k.a)({},e.breakpoints.up("sm"),{width:240,flexShrink:0}),appBar:Object(k.a)({},e.breakpoints.up("sm"),{zIndex:e.zIndex.drawer+1}),menuButton:Object(k.a)({marginRight:e.spacing(2)},e.breakpoints.up("sm"),{display:"none"}),toolbar:e.mixins.toolbar,drawerPaper:{width:240},content:{flexGrow:1,padding:e.spacing(3)},nested:{paddingLeft:e.spacing(4)},logo:{height:"60px"},logoDiv:{flexGrow:1}}})),Bt=function e(t){var a=t.icon,n=t.primary,c=t.to,o=t.subList,s=o&&Array.isArray(o),i=r.a.useState(!0),u=Object(h.a)(i,2),d=u[0],m=u[1],p=Dt(),b=Object(l.e)({app:Object(l.f)(l.c,"init"),ui:Object(l.f)(l.c,"guardians")}),f=Object(h.a)(b,2)[1];return Object(Xe.jsxs)(r.a.Fragment,{children:[Object(Xe.jsx)("li",{children:Object(Xe.jsxs)(C.a,{button:!0,onClick:function(){return c?f(c):m(!d)},children:[a?Object(Xe.jsx)(T.a,{children:a}):null,Object(Xe.jsx)(N.a,{primary:n}),s?d?Object(Xe.jsx)(q.a,{onClick:function(){return m(!d)}}):Object(Xe.jsx)(G.a,{onClick:function(){return m(!d)}}):null]})}),s?Object(Xe.jsx)(w.a,{in:d,timeout:"auto",unmountOnExit:!0,children:Object(Xe.jsx)(F.a,{component:"div",disablePadding:!0,className:p.nested,dense:!0,children:o.map((function(t){return Object(Xe.jsx)(e,{icon:t.icon,primary:t.primary,to:t.to,subList:t.subList})}))})}):null]})},Kt=(Object(J.a)((function(e){return{root:{"&:focus":{backgroundColor:e.palette.warning.main,"& .MuiListItemIcon-root, & .MuiListItemText-primary":{color:e.palette.common.white}}}}}))(I.a),function(e){var t=e.window,a=e.entriesList,c=Object(n.useContext)(wt),o=c.wallet,s=o.current,i=o.otherWallets,l=c.walletDispatch,u=Dt(),d=Object(D.a)(),m=r.a.useState(!1),p=Object(h.a)(m,2),b=p[0],f=p[1],j=r.a.useState(null),g=Object(h.a)(j,2),O=g[0],x=g[1],y=Boolean(O),v=function(e){x(null),"string"===typeof e&&l({type:"updateWallet",newWallet:i[e]})},k=function(){f(!b)},C=Object(Xe.jsxs)("div",{children:[Object(Xe.jsx)("div",{className:u.toolbar}),a.map((function(e){return Object(Xe.jsxs)(r.a.Fragment,{children:[Object(Xe.jsx)(P.a,{}),null!==e&&Object(Xe.jsx)(F.a,{children:e.map((function(e){return Object(Xe.jsx)(Xe.Fragment,{children:e&&Object(Xe.jsx)(Bt,{icon:e.icon,primary:e.primary,to:e.to,subList:e.subList})})}))})]})}))]}),T=void 0!==t?function(){return t().document.body}:void 0;return Object(Xe.jsxs)("div",{className:u.root,children:[Object(Xe.jsx)(A.a,{position:"fixed",className:u.appBar,children:Object(Xe.jsxs)(E.a,{children:[Object(Xe.jsx)(V.a,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:k,className:u.menuButton,children:Object(Xe.jsx)(Y.a,{})}),Object(Xe.jsx)("div",{className:u.logoDiv,children:Object(Xe.jsx)("img",{src:Q,alt:"logo",className:u.logo})}),Object(Xe.jsx)("div",{className:u.logoDiv,children:Object(Xe.jsx)("h1",{children:"Marmalade BETA"})}),s.walletName&&Object(Xe.jsxs)("div",{children:[Object(Xe.jsx)(R.a,{variant:"outlined",color:"secondary",onClick:function(e){x(e.currentTarget)},startIcon:Object(Xe.jsx)(K.a,{edge:"end"}),children:s.walletName}),Object(Xe.jsx)(W.a,{id:"menu-appbar",anchorEl:O,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:y,onClose:v,children:S.a.keys(i).map((function(e){return Object(Xe.jsx)(I.a,{onClick:function(){return v(e)},children:e})}))})]})]})}),Object(Xe.jsxs)("nav",{className:u.drawer,"aria-label":"mailbox folders",children:[Object(Xe.jsx)(L.a,{smUp:!0,implementation:"css",children:Object(Xe.jsx)(U.a,{container:T,variant:"temporary",anchor:"rtl"===d.direction?"right":"left",open:b,onClose:k,classes:{paper:u.drawerPaper},ModalProps:{keepMounted:!0},children:C})}),Object(Xe.jsx)(L.a,{xsDown:!0,implementation:"css",children:Object(Xe.jsx)(U.a,{classes:{paper:u.drawerPaper},variant:"permanent",open:!0,children:C})})]}),Object(Xe.jsxs)("main",{className:u.content,children:[Object(Xe.jsx)("div",{className:u.toolbar}),e.children]})]})}),zt=a(3),qt=a(539),Zt=a(533),Gt=["children","value","index"],Ht=function(e){var t=e.children,a=e.value,n=e.index,r=Object(zt.a)(e,Gt);return Object(Xe.jsx)("div",Object(X.a)(Object(X.a)({role:"tabpanel",hidden:a!==n,id:"scrollable-auto-tabpanel-".concat(n),"aria-labelledby":"scrollable-auto-tab-".concat(n)},r),{},{children:a===n&&Object(Xe.jsx)(Pe.a,{p:3,children:Object(Xe.jsx)(ae.a,{children:t})})}))};var Yt,Qt,Xt,_t,$t,ea,ta,aa,na=Object(M.a)((function(e){return{root:{flexGrow:1,width:"100%",backgroundColor:e.palette.background.paper,marginTop:e.spacing(4)}}})),ra=function(e){var t=e.tabEntries,a=e.tabIdx,n=na(),r=Object(l.d)(a,Object(l.f)(l.a,0)),c=Object(h.a)(r,2),o=c[0],s=c[1];o>=S.a.size(t)&&s(0);return Object(Xe.jsxs)("div",{className:n.root,children:[Object(Xe.jsx)(A.a,{position:"static",color:"default",children:Object(Xe.jsx)(qt.a,{value:o,onChange:function(e,t){s(t)},indicatorColor:"primary",textColor:"primary",variant:"scrollable",scrollButtons:"auto","aria-label":"scrollable auto tabs example",children:t.map((function(e,t){return Object(Xe.jsx)(Zt.a,Object(X.a)({label:e.label},{id:"scrollable-auto-tab-".concat(a=t),"aria-controls":"scrollable-auto-tabpanel-".concat(a)}));var a}))})}),t.map((function(e,t){return Object(Xe.jsx)(Ht,{value:o,index:t,children:e.component})}))]})},ca=function(){return Object(Xe.jsx)(dt,{json:We.hftAPI,keyFormatter:We.keyFormatter})},oa=a(58),sa=a(57),ia=a.n(sa),la=(a(152),["name","params"]),ua=function(e){if("object"===typeof e&&null!==e){var t=Object.keys(e);if(t.length>1)return e;if("int"===t[0]||"decimal"===t[0])return"number"===typeof e[t[0]]?e[t[0]].toString():e[t[0]];if("time"===t[0]||"timep"===t[0])return e[t[0]];throw new Error("Pact base type converstion match failed: ".concat(e))}return e},da=function(e,t){var a=S.a.map(t,ua);switch(e){case"".concat(We.hftAPI.namespace,".").concat(We.hftAPI.contractName,".TRANSFER"):return S.a.zipObject(["id","sender","receiver","amount"],a);case"".concat(We.hftAPI.namespace,".").concat(We.hftAPI.contractName,".SUPPLY"):return S.a.zipObject(["id","supply"],a);case"".concat(We.hftAPI.namespace,".").concat(We.hftAPI.contractName,".ACCOUNT_GUARD"):return S.a.zipObject(["id","account","guard"],a);case"".concat(We.hftAPI.namespace,".").concat(We.hftAPI.contractName,".TOKEN"):return S.a.zipObject(["id","precision","supply","policy"],a);case"".concat(We.hftAPI.namespace,".").concat(We.hftAPI.contractName,".ROTATE"):return S.a.zipObject(["id","account"],a);case"".concat(We.hftAPI.namespace,".").concat(We.hftAPI.contractName,".MINT"):case"".concat(We.hftAPI.namespace,".").concat(We.hftAPI.contractName,".BURN"):return S.a.zipObject(["id","account","amount"],a);case"".concat(We.hftAPI.namespace,".").concat(We.hftAPI.contractName,".SALE"):return S.a.zipObject(["id","seller","amount","timeout","sale-id"],a);case"".concat(We.hftAPI.namespace,".").concat(We.hftAPI.contractName,".OFFER"):return S.a.zipObject(["id","seller","amount","timeout"],a);case"".concat(We.hftAPI.namespace,".").concat(We.hftAPI.contractName,".WITHDRAW"):return S.a.zipObject(["id","seller","amount","timeout","sale-id"],a);case"".concat(We.hftAPI.namespace,".").concat(We.hftAPI.contractName,".BUY"):return S.a.zipObject(["id","buyer","seller","amount","timeout","sale-id"],a);case"".concat(We.hftAPI.namespace,".").concat(We.hftAPI.contractName,".RECONCILE"):return S.a.zipObject(["id","amount","seller-balance-change","buyer-balance-change"],a);case"".concat(We.fqpAPI.namespace,".").concat(We.fqpAPI.contractName,".QUOTE"):return S.a.zipObject(["sale-id","token-id","amount","price","sale-price","spec"],a);case"".concat(We.fqrpAPI.namespace,".").concat(We.fqrpAPI.contractName,".QUOTE"):return S.a.zipObject(["sale-id","token-id","amount","price","sale-price","royalty-payout","creator","spec"],a);default:throw new Error("Event converstion match failed: ".concat(e," -- ").concat(JSON.stringify(a)))}},ma=function(e,t){var a=t.name,n=t.params,r=Object(zt.a)(t,la);return Object(X.a)({name:a,params:e(a,n)},r)},pa="testnetqueries.kadena.network",ba=function(){var e=Object(j.a)(O.a.mark((function e(t,a){var n,r,c,o,s,i=arguments;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>2&&void 0!==i[2]?i[2]:50,console.debug("fetching marm events",{limit:n,offset:a}),r=fetch("https://".concat(pa,"/txs/events?name=").concat(t,"&limit=").concat(n,"&offset=").concat(a)),e.next=5,r;case 5:return c=e.sent,e.next=8,c;case 8:if(!e.sent.ok){e.next=16;break}return e.next=12,c.json();case 12:return o=e.sent,e.abrupt("return",o);case 16:return e.next=18,c.text();case 18:return s=e.sent,e.abrupt("return",s);case 20:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),fa=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return a?t.height-e.height:e.height-t.height},ja=function(){var e=Object(j.a)(O.a.mark((function e(t){var a,n,r,c,o,s,i,l,u,d,m=arguments;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=m.length>1&&void 0!==m[1]?m[1]:50,n=m.length>2&&void 0!==m[2]?m[2]:4,r=m.length>3&&void 0!==m[3]&&m[3],c=m.length>4&&void 0!==m[4]?m[4]:[],console.debug("starting to get ".concat(t," events")),o=0,s=[],i=[],l=!0;case 9:if(!l){e.next=19;break}for(console.debug("".concat(t," events, doing batch"),{offset:o,limit:a,threads:n}),u=0;u<n;u++)s.push(ba(t,o,a)),o+=a;return e.next=15,Promise.all(s);case 15:i=e.sent,l=S.a.every(S.a.map(i,(function(e){return e.length>=a}))),e.next=9;break;case 19:return i=S.a.filter(S.a.flatten(i),(function(e){var t=e.moduleHash;return!c.includes(t)})),d=S.a.map(i,(function(e){return ma(da,e)})).sort((function(e,t){return fa(e,t,r)})),console.debug("".concat(t,"'s events"),d),e.abrupt("return",d);case 24:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ha=new RegExp(String.raw(Yt||(Yt=Object(oa.a)(["",".(SALE|WITHDRAW|BUY)"])),We.hftAPI.contractAddress)),ga=new RegExp(String.raw(Qt||(Qt=Object(oa.a)(["",".SALE"])),We.hftAPI.contractAddress)),Oa=new RegExp(String.raw(Xt||(Xt=Object(oa.a)(["(","|",").QUOTE"])),We.fqpAPI.contractAddress,We.fqrpAPI.contractAddress)),xa=(new RegExp(String.raw(_t||(_t=Object(oa.a)(["",".TRANSFER"])),We.hftAPI.contractAddress)),new RegExp(String.raw($t||($t=Object(oa.a)(["",".RECONCILE"])),We.hftAPI.contractAddress)),new RegExp(String.raw(ea||(ea=Object(oa.a)(["",".ACCOUNT_GUARD"])),We.hftAPI.contractAddress))),ya=(new RegExp(String.raw(ta||(ta=Object(oa.a)(["",".MINT"])),We.hftAPI.contractAddress)),new RegExp(String.raw(aa||(aa=Object(oa.a)(["",".TOKEN"])),We.hftAPI.contractAddress))),Sa=function(e,t){return S.a.find(e.filter((function(e){var t=e.name;return ga.test(t)})),{requestKey:t})},va=new RegExp("sale-.*"),ka=function(e){var t=e.hftLedger,a=S.a.map(t,(function(e){return{id:e.ledgerKey,contents:e}}));return console.debug("renderHFTLedger",{hftLedger:t,pretty:a}),Object(Xe.jsx)(mt,{json:a,header:["Ledger Key","Contents"],keyOrder:["id","contents"],kvFunc:{contents:function(e){return Object(Xe.jsx)(ia.a,{src:e.contents,name:!1,collapsed:1,enableClipboard:!1,displayDataTypes:!1,displayObjectSize:!1})}},keyFormatter:ot})},Ca=function(e){var t=e.hftTokens,a=S.a.map(t,(function(e){return{id:e.id,contents:e}}));return console.debug("renderHFTLedger",{hftTokens:t,pretty:a}),Object(Xe.jsx)(mt,{json:a,header:["ID","Contents"],keyOrder:["id","contents"],kvFunc:{contents:function(e){return Object(Xe.jsx)(ia.a,{src:e.contents,name:!1,collapsed:1,enableClipboard:!1,displayDataTypes:!1,displayObjectSize:!1})}},keyFormatter:ot})},Ta=function(e){var t=e.orderBook,a=e.quotes,n=S.a.map(a,(function(e){var a=e.params["sale-id"],n=e.params.spec.recipient,r=Sa(t,a),c=e.name==="".concat(We.fqpAPI.contractAddress,".QUOTE")?"FQP":"FQRP";return{blockTime:e.blockTime,"token-id":e.params["token-id"],type:c,"sale-id":"".concat(a.slice(0,4),"...",a.slice(-4)),seller:n.length>10?"".concat(n.slice(0,6),"...",n.slice(-4)):n,timeout:r.params.timeout.toString(),price:e.params["sale-price"].toString(),contents:{sale:r,quote:e}}}));return console.debug("renderHftQuotes",{quotes:a,pretty:n}),Object(Xe.jsx)(mt,{json:n,header:["Block Time","","Token","buyer","Sale Id","Price","Timeout","Details"],keyOrder:["blockTime","type","token-id","buyer","sale-id","price","timeout","contents"],kvFunc:{contents:function(e){return Object(Xe.jsx)(ia.a,{src:e.contents,name:!1,collapsed:0,enableClipboard:!1,displayDataTypes:!1,displayObjectSize:!1})}},keyFormatter:ot})},Na=Object(ce.a)((function(){return{formControl:{margin:"5px auto",minWidth:120},selectEmpty:{marginTop:"10px auto"}}})),wa=function(e,t,a,n,r,c,o){var s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{},i=arguments.length>8&&void 0!==arguments[8]?arguments[8]:[],l=le.a.lang.mkMeta(e,We.hftAPI.meta.chainId,Number.parseFloat(r),Number.parseFloat(c),Ce.util.autoCreationTime(),We.hftAPI.meta.ttl),u=Ce.util.addGasCap(i);console.log("signExecHftCommand",u);var d=Ce.mkSignerCList(t,u),m=Ce.mkExecPayload(o,d,n,l,{data:s}),p=Ce.mkSigData(m);xt(p,a)},Fa=function(e,t,a,n,r,c,o,s,i){var l=arguments.length>9&&void 0!==arguments[9]?arguments[9]:{},u=arguments.length>10&&void 0!==arguments[10]?arguments[10]:[],d=le.a.lang.mkMeta(n,We.hftAPI.meta.chainId,Number.parseFloat(s),Number.parseFloat(i),Ce.util.autoCreationTime(),We.hftAPI.meta.ttl),m=Ce.util.addGasCap(u);console.log("signContHftCommand",m);var p=Ce.mkSignerCList(r,m),b=Ce.mkContPayload(e,t,p,o,d,{data:l,rollback:a}),f=Ce.mkSigData(b);xt(f,c)},Ia=function(e){var t=e.refresh,a=e.mfCache,r=e.pactTxStatus,c=r.setTxRes,o=r.setTxStatus,s=Pt().current,i=s.signingKey,l=s.networkId,u=s.gasPrice,d=s.gasLimit,m=s.accountName,p=Object(n.useState)(""),b=Object(h.a)(p,2),f=b[0],j=b[1],g=Object(n.useState)(""),O=Object(h.a)(g,2),x=O[0],y=O[1],v=Object(n.useState)(12),k=Object(h.a)(v,2),C=k[0],T=k[1],N=Object(n.useState)(""),w=Object(h.a)(N,2),F=w[0],I=w[1],P=Object(n.useState)(""),A=Object(h.a)(P,2),E=A[0],V=A[1],R=Object(n.useState)(""),W=Object(h.a)(R,2),L=W[0],U=W[1],M=Object(n.useState)(""),J=Object(h.a)(M,2),D=J[0],B=J[1],K=Na(),z=[{type:"textFieldSingle",label:"Token Name",className:K.formControl,value:f,onChange:j},{type:"textFieldSingle",label:"Precision",className:K.formControl,value:C,onChange:T},{type:"select",label:"Manifest",className:K.formControl,options:S.a.map(S.a.filter(a,{type:"manifest"}),(function(e){return JSON.stringify(e.value)})),value:x,onChange:y},{type:"textFieldMulti",label:"Mint Keyset",className:K.formControl,placeholder:"",value:F,onChange:I},{type:"textFieldMulti",label:"Burn Keyset",className:K.formControl,placeholder:"",value:E,onChange:V},{type:"textFieldMulti",label:"Sale Keyset",className:K.formControl,placeholder:"",value:L,onChange:U},{type:"textFieldMulti",label:"Transfer Keyset",className:K.formControl,placeholder:"",value:D,onChange:B}];return Object(Xe.jsx)(ft,{inputFields:z,onSubmit:function(e){e.preventDefault();try{console.log(F),wa(m,i,r,l,u,d,"(".concat(We.hftAPI.contractAddress,'.create-token "').concat(f,'" ').concat(C," (read-msg 'manifest) ").concat(We.gtpAPI.contractAddress,")"),{manifest:JSON.parse(x),"mint-guard":JSON.parse(F),"burn-guard":JSON.parse(E),"sale-guard":JSON.parse(L),"transfer-guard":JSON.parse(D)})}catch(t){console.log("create-token Submit Error",typeof t,t,{id:f,manifest:JSON.parse(x),precision:C,mintGrd:F,saleGrd:L,burnGrd:E,transferGrd:D}),c(t),o("validation-error")}},pactTxStatus:r,refresh:t})},Pa=function(e){var t=e.refresh,a=e.mfCache,r=e.pactTxStatus,c=r.setTxStatus,o=r.setTxRes,s=Pt().current,i=s.signingKey,l=s.networkId,u=s.gasPrice,d=s.gasLimit,m=s.accountName,p=Object(n.useState)(""),b=Object(h.a)(p,2),f=b[0],j=b[1],g=Object(n.useState)(""),O=Object(h.a)(g,2),x=O[0],y=O[1],v=Object(n.useState)(12),k=Object(h.a)(v,2),C=k[0],T=k[1],N=Object(n.useState)(""),w=Object(h.a)(N,2),F=w[0],I=w[1],P=Object(n.useState)("1.0"),A=Object(h.a)(P,2),E=A[0],V=A[1],R=Object(n.useState)("0.0"),W=Object(h.a)(R,2),L=W[0],U=W[1],M=Na(),J=[{type:"textFieldSingle",label:"Token Name",className:M.formControl,value:f,onChange:j},{type:"textFieldSingle",label:"Precision",className:M.formControl,value:C,onChange:T},{type:"select",label:"Manifest",className:M.formControl,options:S.a.map(S.a.filter(a,{type:"manifest"}),(function(e){return JSON.stringify(e.value)})),value:x,onChange:y},{type:"textFieldMulti",label:"Mint Keyset",className:M.formControl,placeholder:"",value:F,onChange:I},{type:"textFieldSingle",label:"Max Supply",className:M.formControl,value:E,onChange:V},{type:"textFieldSingle",label:"Min Amount",className:M.formControl,value:L,onChange:U}];return Object(Xe.jsx)(ft,{inputFields:J,onSubmit:function(e){e.preventDefault();try{wa(m,i,r,l,u,d,"(".concat(We.hftAPI.contractAddress,'.create-token "').concat(f,'" ').concat(C," (read-msg 'manifest) ").concat(We.fqpAPI.contractAddress,")"),{manifest:JSON.parse(x),"mint-guard":JSON.parse(F),"max-supply":Number.parseFloat(E),"min-amount":Number.parseFloat(L)})}catch(t){console.log("create-token Submit Error",typeof t,t,{id:f,manifest:JSON.parse(x),precision:C,mintGrd:F,maxSupply:E,minAmount:L}),o(t),c("validation-error")}},pactTxStatus:r,refresh:t})},Aa=function(e){var t=e.refresh,a=e.mfCache,r=e.pactTxStatus,c=r.setTxStatus,o=r.setTxRes,s=Pt().current,i=s.signingKey,l=s.networkId,u=s.gasPrice,d=s.gasLimit,m=s.accountName,p=Object(n.useState)(""),b=Object(h.a)(p,2),f=b[0],j=b[1],g=Object(n.useState)(""),O=Object(h.a)(g,2),x=O[0],y=O[1],v=Object(n.useState)(12),k=Object(h.a)(v,2),C=k[0],T=k[1],N=Object(n.useState)(""),w=Object(h.a)(N,2),F=w[0],I=w[1],P=Object(n.useState)(""),A=Object(h.a)(P,2),E=A[0],V=A[1],R=Object(n.useState)(""),W=Object(h.a)(R,2),L=W[0],U=W[1],M=Object(n.useState)(""),J=Object(h.a)(M,2),D=J[0],B=J[1],K=Object(n.useState)("1.0"),z=Object(h.a)(K,2),q=z[0],Z=z[1],G=Object(n.useState)("0.0"),H=Object(h.a)(G,2),Y=H[0],Q=H[1],X=Object(n.useState)("0.0"),_=Object(h.a)(X,2),$=_[0],ee=_[1],te=Na(),ae=[{type:"textFieldSingle",label:"Token Name",className:te.formControl,value:f,onChange:j},{type:"textFieldSingle",label:"Precision",className:te.formControl,value:C,onChange:T},{type:"select",label:"Manifest",className:te.formControl,options:S.a.map(S.a.filter(a,{type:"manifest"}),(function(e){return JSON.stringify(e.value)})),value:x,onChange:y},{type:"textFieldMulti",label:"Mint Keyset",className:te.formControl,placeholder:"",value:E,onChange:V},{type:"textFieldSingle",label:"Creator",className:te.formControl,value:L,onChange:U},{type:"textFieldMulti",label:"Creator Keyset",className:te.formControl,placeholder:"",value:D,onChange:B},{type:"textFieldSingle",label:"Fungible",className:te.formControl,value:F,onChange:I},{type:"textFieldSingle",label:"Max Supply",className:te.formControl,value:q,onChange:Z},{type:"textFieldSingle",label:"Min Amount",className:te.formControl,value:Y,onChange:Q},{type:"textFieldSingle",label:"Royalty Rate",className:te.formControl,value:$,onChange:ee}];return Object(Xe.jsx)(ft,{inputFields:ae,onSubmit:function(e){e.preventDefault();try{wa(m,i,r,l,u,d,"(".concat(We.hftAPI.contractAddress,'.create-token "').concat(f,'" ').concat(C," (read-msg 'manifest) ").concat(We.fqrpAPI.contractAddress,")"),{manifest:JSON.parse(x),token_spec:{fungible:{refName:{namespace:null,name:F},refSpec:[{namespace:null,name:"fungible-v2"}]},creator:L,"creator-guard":JSON.parse(D),"mint-guard":JSON.parse(E),"max-supply":Number.parseFloat(q),"min-amount":Number.parseFloat(Y),"royalty-rate":Number.parseFloat($)}})}catch(t){console.log("create-token Submit Error",typeof t,t,{id:f,manifest:JSON.parse(x),precision:C,mintGrd:E,maxSupply:q,minAmount:Y}),o(t),c("validation-error")}},pactTxStatus:r,refresh:t})},Ea=function(e){var t=e.hftTokens,a=e.refresh,r=e.pactTxStatus,c=r.setTxStatus,o=r.setTxRes,s=Pt().current,i=s.signingKey,l=s.networkId,u=s.gasPrice,d=s.gasLimit,m=s.accountName,p=Object(n.useState)(""),b=Object(h.a)(p,2),f=b[0],j=b[1],g=Object(n.useState)(""),O=Object(h.a)(g,2),x=O[0],y=O[1],S=Object(n.useState)({}),v=Object(h.a)(S,2),k=v[0],C=v[1],T=Object(n.useState)(100),N=Object(h.a)(T,2),w=N[0],F=N[1],I=Na(),P=[{type:"select",label:"Select Token",className:I.formControl,onChange:j,options:t.map((function(e){return e.id}))},{type:"textFieldSingle",label:"Account Name",className:I.formControl,value:x,onChange:y},{type:"textFieldMulti",label:"Keyset",className:I.formControl,placeholder:JSON.stringify({pred:"keys-all",keys:["8c59a322800b3650f9fc5b6742aa845bc1c35c2625dabfe5a9e9a4cada32c543"]},void 0,2),value:k,onChange:C},{type:"textFieldSingle",label:"Amount",className:I.formControl,value:w,onChange:F}];return Object(Xe.jsx)(ft,{inputFields:P,onSubmit:function(e){e.preventDefault(),console.log(le.a.lang.mkCap("MINT Cap","Authenticates that you can mint","".concat(We.hftAPI.contractAddress,".MINT"),[f,x,Number.parseInt(w)]));try{wa(m,i,r,l,u,d,"(".concat(We.hftAPI.contractAddress,'.mint "').concat(f,'" "').concat(x,"\" (read-keyset 'ks) (read-decimal 'amount))"),{ks:JSON.parse(k),amount:w},[Ce.mkCap("".concat(We.hftAPI.contractAddress,".MINT"),[f,x,Number.parseFloat(w)])])}catch(t){console.log("mint Submit Error",typeof t,t,f,x,k,w),o(t),c("validation-error")}},pactTxStatus:r,refresh:a})},Va=function(e){var t=e.hftTokens,a=e.hftLedger,r=e.refresh,c=e.pactTxStatus,o=c.setTxStatus,s=c.setTxRes,i=Pt().current,l=i.signingKey,u=i.networkId,d=i.gasPrice,m=i.gasLimit,p=i.accountName,b=Object(n.useState)(""),f=Object(h.a)(b,2),j=f[0],g=f[1],O=Object(n.useState)(""),x=Object(h.a)(O,2),y=x[0],v=x[1],k=Object(n.useState)(""),C=Object(h.a)(k,2),T=C[0],N=C[1],w=Object(n.useState)({}),F=Object(h.a)(w,2),I=F[0],P=F[1],A=Object(n.useState)(0),E=Object(h.a)(A,2),V=E[0],R=E[1],W=Na(),L=[{type:"select",label:"Select Token",className:W.formControl,onChange:g,options:t.map((function(e){return e.id}))},{type:"select",label:"Sender Account",className:W.formControl,onChange:v,options:S.a.sortedUniq(a.map((function(e){return e.account})))},{type:"textFieldSingle",label:"Receiver Account",className:W.formControl,value:T,onChange:N},{type:"textFieldMulti",label:"Receiver Account Keyset",className:W.formControl,placeholder:JSON.stringify({pred:"keys-all",keys:["8c59a322800b3650f9fc5b6742aa845bc1c35c2625dabfe5a9e9a4cada32c543"]},void 0,2),value:I,onChange:P},{type:"textFieldSingle",label:"Transfer Amount",className:W.formControl,value:V,onChange:R}];return Object(Xe.jsx)(ft,{inputFields:L,onSubmit:function(e){e.preventDefault();try{wa(p,l,c,u,d,m,"(".concat(We.hftAPI.contractAddress,'.transfer-create "').concat(j,'" "').concat(y,'" "').concat(T,"\" (read-keyset 'ks) (read-decimal 'amount))"),{ks:JSON.parse(I),amount:V},[Ce.mkCap("".concat(We.hftAPI.contractAddress,".TRANSFER"),[j,y,T,Number.parseFloat(V)])])}catch(t){console.log("transfer-create Submit Error",typeof t,t,j,y,T,I,V),s(t),o("validation-error")}},pactTxStatus:c,refresh:r})},Ra=function(e){var t=e.hftTokens,a=e.hftLedger,r=e.refresh,c=e.pactTxStatus,o=c.setTxStatus,s=c.setTxRes,i=Pt().current,l=i.signingKey,u=i.networkId,d=i.gasPrice,m=i.gasLimit,p=i.accountName,b=Object(n.useState)(""),f=Object(h.a)(b,2),j=f[0],g=f[1],O=Object(n.useState)(""),x=Object(h.a)(O,2),y=x[0],v=x[1],k=Object(n.useState)(""),C=Object(h.a)(k,2),T=C[0],N=C[1],w=Object(n.useState)(0),F=Object(h.a)(w,2),I=F[0],P=F[1],A=Na(),E=[{type:"select",label:"Select Token",className:A.formControl,onChange:g,options:t.map((function(e){return e.id}))},{type:"select",label:"Sender Account",className:A.formControl,onChange:v,options:S.a.sortedUniq(a.map((function(e){return e.account})))},{type:"select",label:"Receiver Account",className:A.formControl,onChange:N,options:S.a.sortedUniq(a.map((function(e){return e.account})))},{type:"textFieldSingle",label:"Transfer Amount",className:A.formControl,value:I,onChange:P}];return Object(Xe.jsx)(ft,{inputFields:E,onSubmit:function(e){e.preventDefault();try{wa(p,l,c,u,d,m,"(".concat(We.hftAPI.contractAddress,'.transfer "').concat(j,'" "').concat(y,'" "').concat(T,"\" (read-decimal 'amount))"),{amount:I},[Ce.mkCap("".concat(We.hftAPI.contractAddress,".TRANSFER"),[j,y,T,Number.parseFloat(I)])])}catch(t){console.log("transfer Submit Error",typeof t,t,j,y,T,I),s(t),o("validation-error")}},pactTxStatus:c,refresh:r})},Wa=function(e){var t=e.hftTokens,a=(e.hftLedger,e.refresh),r=e.pactTxStatus,c=r.setTxStatus,o=r.setTxRes,s=Pt(),i=s.current,l=i.signingKey,u=i.networkId,d=i.gasPrice,m=i.gasLimit,p=i.accountName,b=s.allKeys,f=Object(n.useState)(""),j=Object(h.a)(f,2),g=j[0],O=j[1],x=Object(n.useState)(""),y=Object(h.a)(x,2),v=y[0],k=y[1],C=Object(n.useState)([]),T=Object(h.a)(C,2),N=T[0],w=T[1],F=Object(n.useState)("keys-all"),I=Object(h.a)(F,2),P=I[0],A=I[1],E=Na(),V=[{type:"select",label:"Select Token",className:E.formControl,onChange:O,options:t.map((function(e){return e.id}))},{type:"textFieldSingle",label:"Account Name",className:E.formControl,value:v,onChange:k},{type:"select",label:"Select Keyset Predicate",className:E.formControl,onChange:A,options:["keys-any","keys-all","keys-2"]},{type:"keySelector",label:"Set Guard Keys",className:E.formControl,onChange:w,value:N,options:b}];return Object(Xe.jsx)(ft,{inputFields:V,onSubmit:function(e){e.preventDefault();var t=S.a.map(N,(function(e){return e.inputValue?e.inputValue:e}));console.debug("create-account",g,v,P,N,{ks:{pred:P,keys:t}});try{wa(p,l,r,u,d,m,"(".concat(We.hftAPI.contractAddress,'.create-account "').concat(g,'" "').concat(v,"\" (read-keyset 'ks))"),{ks:{pred:P,keys:t}})}catch(a){console.log("create-account Submit Error",typeof a,a,g,v,P,N),o(a),c("validation-error")}},pactTxStatus:r,refresh:a})},La=function(e){var t=e.hftTokens,a=e.hftLedger,r=e.refresh,c=e.pactTxStatus,o=c.setTxStatus,s=c.setTxRes,i=Pt(),l=i.current,u=l.signingKey,d=l.networkId,m=l.gasPrice,p=l.gasLimit,b=l.accountName,f=(i.allKeys,Object(n.useState)("")),j=Object(h.a)(f,2),g=j[0],O=j[1],x=Object(n.useState)(""),y=Object(h.a)(x,2),v=y[0],k=y[1],C=Object(n.useState)([]),T=Object(h.a)(C,2),N=T[0],w=T[1],F=Object(n.useState)("0.0"),I=Object(h.a)(F,2),P=I[0],A=I[1],E=Object(n.useState)(""),V=Object(h.a)(E,2),R=V[0],W=V[1],L=Object(n.useState)("coin"),U=Object(h.a)(L,2),M=U[0],J=U[1],D=Object(n.useState)("0.0"),B=Object(h.a)(D,2),K=B[0],z=B[1],q=Object(n.useState)(""),Z=Object(h.a)(q,2),G=Z[0],H=Z[1],Y=Object(n.useState)(""),Q=Object(h.a)(Y,2),X=Q[0],_=Q[1],$=Object(n.useState)([]),ee=Object(h.a)($,2),te=ee[0],ae=ee[1],ne=Na();Object(n.useEffect)((function(){ae(t)}),[t]),Object(n.useEffect)((function(){w(a.map((function(e){return e.account})))}),[g,a,v]);var re=[{type:"select",label:"Select Token",className:ne.formControl,onChange:O,options:te.map((function(e){return e.id}))},{type:"select",label:"Select Seller",className:ne.formControl,onChange:k,options:N},{type:"textFieldSingle",label:"Sale Amount",className:ne.formControl,value:P,onChange:A},{type:"textFieldSingle",label:"Timeout (Block height)",className:ne.formControl,value:R,onChange:W},{type:"textFieldSingle",label:"fungible",className:ne.formControl,value:M,onChange:J},{type:"textFieldSingle",label:"Price",className:ne.formControl,value:K,onChange:z},{type:"textFieldSingle",label:"Recipient",className:ne.formControl,onChange:H,value:G},{type:"textFieldMulti",label:"Recipient Keyset",className:ne.formControl,placeholder:JSON.stringify({pred:"keys-all",keys:["8c59a322800b3650f9fc5b6742aa845bc1c35c2625dabfe5a9e9a4cada32c543"]},void 0,2),value:X,onChange:_}];return Object(Xe.jsx)(ft,{inputFields:re,onSubmit:function(e){e.preventDefault(),console.debug("sale",g,v,M);try{var t={price:Number.parseFloat(K),recipient:G,"recipient-guard":JSON.parse(X)};"fixed-quote-policy"===S.a.find(te,{id:g}).policy.refName.name&&(t.fungible={refName:{namespace:null,name:M},refSpec:[{namespace:null,name:"fungible-v2"}]}),wa(b,u,c,d,m,p,"(".concat(We.hftAPI.contractAddress,'.sale "').concat(g,'" "').concat(v,"\" (read-decimal 'amount) (read-integer 'timeout))"),{amount:P,timeout:R,quote:t},[Ce.mkCap("".concat(We.hftAPI.contractAddress,".OFFER"),[g,v,Number.parseFloat(P),{int:R}])])}catch(a){console.log("Sale Submit Error",typeof a,a,g,v,P,R),s(a),o("validation-error")}},pactTxStatus:c,refresh:r})},Ua=function(e){var t=e.hftLedger,a=(e.hftTokens,e.orderBook),r=e.quotes,c=e.refresh,o=e.pactTxStatus,s=o.setTxStatus,i=o.setTxRes,l=Pt().current,u=l.signingKey,d=l.networkId,m=l.gasPrice,p=l.gasLimit,b=l.accountName,f=Object(n.useState)(""),j=Object(h.a)(f,2),g=j[0],O=j[1],x=Object(n.useState)(""),y=Object(h.a)(x,2),v=y[0],k=y[1],C=Object(n.useState)(""),T=Object(h.a)(C,2),N=T[0],w=T[1],F=Na();Object(n.useEffect)((function(){try{S.a.find(r,{params:{"sale-id":g}}).params["token-id"]}catch(e){console.debug("Getting applicable buyers failed with",e)}}),[g,t,r]);var I=[{type:"select",label:"Select Sale",className:F.formControl,onChange:O,options:r.map((function(e){return e.params["sale-id"]}))},{type:"textFieldSingle",label:"Buyer",className:F.formControl,onChange:k,value:v},{type:"textFieldMulti",label:"Buyer Keyset",className:F.formControl,placeholder:JSON.stringify({pred:"keys-all",keys:["8c59a322800b3650f9fc5b6742aa845bc1c35c2625dabfe5a9e9a4cada32c543"]},void 0,2),value:N,onChange:w}];return Object(Xe.jsx)(ft,{inputFields:I,onSubmit:function(e){e.preventDefault();var t=S.a.find(r,{params:{"sale-id":g}}),n=Sa(a,g),c=n.params.amount,l=t.params.spec.price,f=n.params.seller,j=t.params.spec.recipient,h=n.params.timeout,O=t.params["token-id"];try{Fa(g,1,!1,b,u,o,d,m,p,{buyer:v,"buyer-guard":JSON.parse(N)},[Ce.mkCap("".concat(We.hftAPI.contractAddress,".BUY"),[O,f,v,c,{int:h},g]),Ce.mkCap("coin.TRANSFER",[v,j,c*l])])}catch(x){console.log("Buy Submit Error",typeof x,x,{quote:t,sale:n,amount:c,price:l,transfer:c*l,seller:f,timeout:h}),i(x),s("validation-error")}},pactTxStatus:o,refresh:c})},Ma=function(e){var t=e.hftLedger,a=(e.hftTokens,e.orderBook),r=e.quotes,c=e.refresh,o=e.pactTxStatus,s=o.setTxStatus,i=o.setTxRes,l=Pt(),u=l.current,d=u.signingKey,m=u.networkId,p=u.gasPrice,b=u.gasLimit,f=u.accountName,j=(l.allKeys,Object(n.useState)("")),g=Object(h.a)(j,2),O=g[0],x=g[1],y=Na();Object(n.useEffect)((function(){try{S.a.find(r,{params:{"sale-id":O}}).params["token-id"]}catch(e){console.debug("Getting applicable buyers failed with",e)}}),[O,t,r]);var v=[{type:"select",label:"Select Sale",className:y.formControl,onChange:x,options:a.map((function(e){return e.params["sale-id"]}))}];return Object(Xe.jsx)(ft,{inputFields:v,onSubmit:function(e){e.preventDefault();var t=S.a.find(r,{params:{"sale-id":O}}),n=Sa(a,O),c=n.params.amount,l=t.params.spec.price,u=n.params.seller,j=(t.params.spec.recipient,n.params.timeout);t.params["token-id"];try{Fa(O,0,!0,f,d,o,m,p,b,[])}catch(h){console.log("Withdraw Submit Error",typeof h,h,{quote:t,sale:n,amount:c,price:l,transfer:c*l,seller:u,timeout:j}),i(h),s("validation-error")}},pactTxStatus:o,refresh:c})},Ja=function(e){var t=e.hftLedger,a=e.hftTokens,n=e.tabIdx,r=e.pactTxStatus,c=e.refresh,o=c.getHftLedger;c.getHftTokens;return Object(Xe.jsx)(ra,{tabIdx:n,tabEntries:[{label:"Transfer Create",component:Object(Xe.jsx)(Va,{pactTxStatus:r,hftTokens:a,hftLedger:t,refresh:function(){return o()}})},{label:"Transfer",component:Object(Xe.jsx)(Ra,{pactTxStatus:r,hftTokens:a,hftLedger:t,refresh:function(){return o()}})},{label:"Create Account",component:Object(Xe.jsx)(Wa,{pactTxStatus:r,hftTokens:a,hftLedger:t,refresh:function(){return o()}})}]})},Da=function(e){var t=e.hftTokens,a=e.mfCache,n=e.tabIdx,r=e.pactTxStatus,c=e.refresh,o=c.getHftLedger,s=c.getHftTokens;return Object(Xe.jsx)(ra,{tabIdx:n,tabEntries:[{label:"Create Guard Policy Token",component:Object(Xe.jsx)(Ia,{pactTxStatus:r,mfCache:a,refresh:function(){return s()}})},{label:"Create Fixed Quote Policy Token",component:Object(Xe.jsx)(Pa,{pactTxStatus:r,mfCache:a,refresh:function(){return s()}})},{label:"Create Fixed Quote Royalty Policy Token",component:Object(Xe.jsx)(Aa,{pactTxStatus:r,mfCache:a,refresh:function(){return s()}})},{label:"Mint Token",component:Object(Xe.jsx)(Ea,{pactTxStatus:r,hftTokens:t,refresh:function(){return o()}})}]})},Ba=function(e){var t=e.hftTokens,a=e.hftLedger,n=e.orderBook,r=e.quotes,c=(e.mfCache,e.tabIdx),o=e.pactTxStatus,s=e.refresh,i=s.getHftLedger,l=(s.getHftTokens,s.getHftEvents),u=function(){l(),i()};return Object(Xe.jsx)(ra,{tabIdx:c,tabEntries:[{label:"Sale Fixed Quote Policy Token",component:Object(Xe.jsx)(La,{pactTxStatus:o,hftTokens:t,hftLedger:a,refresh:u})},{label:"Buy Fixed Quote Policy Token",component:Object(Xe.jsx)(Ua,{pactTxStatus:o,orderBook:n.filter((function(e){return"marmalade.ledger.SALE"===e.name})),quotes:r,hftTokens:t,hftLedger:a,refresh:u})},{label:"Withdraw Fixed Quote Policy Token",component:Object(Xe.jsx)(Ma,{pactTxStatus:o,orderBook:n.filter((function(e){return"marmalade.ledger.SALE"===e.name})),quotes:r,hftTokens:t,hftLedger:a,refresh:u})}]})},Ka=Object(ce.a)((function(){return{formControl:{margin:"5px auto",minWidth:120},selectEmpty:{marginTop:"10px auto"}}})),za=function(){var e=Object(j.a)(O.a.mark((function e(t,a){var n,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,le.a.fetch.local({pactCode:"(".concat(We.manifestAPI.contractAddress,".uri (read-string 'scheme) (read-string 'data))"),envData:{scheme:t,data:a},meta:le.a.lang.mkMeta(We.manifestAPI.meta.sender,We.manifestAPI.meta.chainId,We.manifestAPI.meta.gasPrice,We.manifestAPI.meta.gasLimit,We.manifestAPI.meta.creationTime(),We.manifestAPI.meta.ttl)},We.manifestAPI.meta.host);case 2:return n=e.sent,r=n.result.data,console.debug("local query data: (".concat(We.manifestAPI.contractAddress,".uri)"),{scheme:t,data:a},r),e.abrupt("return",{type:"uri",value:r});case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),qa=function(){var e=Object(j.a)(O.a.mark((function e(t,a){var n,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,le.a.fetch.local({pactCode:"(".concat(We.manifestAPI.contractAddress,".create-datum (read-msg 'uri) (read-msg 'datum))"),envData:{uri:t,datum:a},meta:le.a.lang.mkMeta(We.manifestAPI.meta.sender,We.manifestAPI.meta.chainId,We.manifestAPI.meta.gasPrice,We.manifestAPI.meta.gasLimit,We.manifestAPI.meta.creationTime(),We.manifestAPI.meta.ttl)},We.manifestAPI.meta.host);case 2:return n=e.sent,r=n.result.data,console.debug("local query data: (".concat(We.manifestAPI.contractAddress,".create-datum)"),{uri:t,datum:a},r),e.abrupt("return",{type:"datum",value:r});case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),Za=function(){var e=Object(j.a)(O.a.mark((function e(t,a){var n,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,le.a.fetch.local({pactCode:"(".concat(We.manifestAPI.contractAddress,".create-manifest (read-msg 'uri) (read-msg 'data))"),envData:{uri:t,data:a},meta:le.a.lang.mkMeta(We.manifestAPI.meta.sender,We.manifestAPI.meta.chainId,We.manifestAPI.meta.gasPrice,We.manifestAPI.meta.gasLimit,We.manifestAPI.meta.creationTime(),We.manifestAPI.meta.ttl)},We.manifestAPI.meta.host);case 2:return n=e.sent,r=n.result.data,console.debug("local query data: (".concat(We.manifestAPI.contractAddress,".create-manifest)"),{uri:t,data:a},r),e.abrupt("return",{type:"manifest",value:r});case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),Ga=function(e){var t=e.mfCache;return console.debug("renderUri",t),Object(Xe.jsx)(mt,{json:S.a.map(S.a.filter(t,{type:"uri"}),"value"),header:["Scheme","Data"],keyOrder:["scheme","data"],keyFormatter:ot})},Ha=function(e){var t=e.mfCache,a=S.a.map(S.a.filter(t,{type:"manifest"}),(function(e){return{hash:e.value.hash,contents:e.value}}));return console.debug("renderManifest",a),Object(Xe.jsx)(mt,{json:a,header:["Hash","Contents"],keyOrder:["hash","contents"],kvFunc:{contents:function(e){return Object(Xe.jsx)(ia.a,{src:e.contents,name:!1,collapsed:2,enableClipboard:!1,displayDataTypes:!1,displayObjectSize:!1})}}})},Ya=function(e){var t=e.mfCache,a=S.a.map(S.a.filter(t,{type:"datum"}),(function(e){return{hash:e.value.hash,contents:e.value}}));return console.debug("renderDatum",a),Object(Xe.jsx)(mt,{json:a,header:["Hash","Contents"],keyOrder:["hash","contents"],kvFunc:{contents:function(e){return Object(Xe.jsx)(ia.a,{src:e.contents,name:!1,collapsed:2,enableClipboard:!1,displayDataTypes:!1,displayObjectSize:!1})}},keyFormatter:ot})},Qa=function(e){var t=e.mfCache,a=e.setMfCache,r=Object(n.useState)(""),c=Object(h.a)(r,2),o=c[0],s=c[1],i=Object(n.useState)(""),l=Object(h.a)(i,2),u=l[0],d=l[1],m=Ka(),p=function(){var e=Object(j.a)(O.a.mark((function e(n){var r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,e.next=4,za(o,u);case 4:r=e.sent,console.debug("create-uri result",r),a(S.a.uniq(S.a.concat([r],t))),console.debug("updated mf",t),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.log("create-uri Submit Error",typeof e.t0,e.t0,o,u);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}(),b=[{type:"textFieldSingle",label:"Scheme",className:m.formControl,value:o,onChange:s},{type:"textFieldSingle",label:"Data",className:m.formControl,value:u,onChange:d}];return Object(Xe.jsx)(jt,{inputFields:b,onSubmit:p,tx:"stateless tx",txStatus:"stateless tx",txRes:"stateless tx",setTxStatus:function(){return null}})},Xa=function(e){var t=e.mfCache,a=e.setMfCache,r=Object(n.useState)(""),c=Object(h.a)(r,2),o=c[0],s=c[1],i=Object(n.useState)(""),l=Object(h.a)(i,2),u=l[0],d=l[1],m=Ka(),p=function(){var e=Object(j.a)(O.a.mark((function e(n){var r,c,s;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),r=JSON.parse(o),c=JSON.parse(u),e.prev=3,e.next=6,qa(r,c);case 6:s=e.sent,console.debug("create-datum result",s),a(S.a.uniq(S.a.concat([s],t))),console.debug("updated mf",t),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(3),console.log("create-datum Submit Error",typeof e.t0,e.t0,r,c);case 15:case"end":return e.stop()}}),e,null,[[3,12]])})));return function(t){return e.apply(this,arguments)}}(),b=[{type:"select",label:"URI",className:m.formControl,options:S.a.map(S.a.filter(t,{type:"uri"}),(function(e){return JSON.stringify(e.value)})),value:o,onChange:s},{type:"textFieldMulti",label:"Datum",className:m.formControl,value:u,onChange:d}];return Object(Xe.jsx)(jt,{inputFields:b,onSubmit:p,tx:"stateless tx",txStatus:"stateless tx",txRes:"stateless tx",setTxStatus:function(){return null}})},_a=function(e){var t=e.mfCache,a=e.setMfCache,r=Object(n.useState)(""),c=Object(h.a)(r,2),o=c[0],s=c[1],i=Object(n.useState)([]),l=Object(h.a)(i,2),u=l[0],d=l[1],m=Ka();console.debug("CreateManifest",{mfCache:t});var p=function(){var e=Object(j.a)(O.a.mark((function e(n){var r,c,s;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),r=JSON.parse(o),c=S.a.map(u,(function(e){return e.value})),console.debug("create manifest submit",{uriObj:r,dataObjList:c}),e.prev=4,e.next=7,Za(r,c);case 7:s=e.sent,console.debug("create-manifest result",s),a(S.a.uniq(S.a.concat([s],t))),console.debug("updated mf",t),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(4),console.log("create-manifest Submit Error",typeof e.t0,e.t0,r,c);case 16:case"end":return e.stop()}}),e,null,[[4,13]])})));return function(t){return e.apply(this,arguments)}}(),b=[{type:"select",label:"URI",className:m.formControl,options:S.a.map(S.a.filter(t,{type:"uri"}),(function(e){return JSON.stringify(e.value)})),value:o,onChange:s},{type:"fixedGroupMultiSelector",label:"Data",className:m.formControl,options:S.a.filter(t,{type:"datum"}),value:u,onChange:d}];return Object(Xe.jsx)(jt,{inputFields:b,onSubmit:p,tx:"stateless tx",txStatus:"stateless tx",txRes:"stateless tx",setTxStatus:function(){return null}})},$a=function(e){var t=e.mfCache,a=e.setMfCache,n=e.tabIdx;return Object(Xe.jsx)(ra,{tabIdx:n,tabEntries:[{label:"Create URI",component:Object(Xe.jsx)(Qa,{mfCache:t,setMfCache:a})},{label:"Create Datum",component:Object(Xe.jsx)(Xa,{mfCache:t,setMfCache:a})},{label:"Create Manifest",component:Object(Xe.jsx)(_a,{mfCache:t,setMfCache:a})}]})},en={primary:"Marmalade",subList:[{primary:"Config & State",subList:[{primary:"Config",to:{app:"hft",ui:"config"}},{primary:"Tokens",to:{app:"hft",ui:"tokens"}},{primary:"Ledger",to:{app:"hft",ui:"ledger"}},{primary:"Order Book",to:{app:"hft",ui:"orderBook"}},{primary:"Manifest",to:{app:"hft",ui:"manifest"}}]}]},tn=function(e){var t=e.appRoute,a=e.setAppRoute,n=e.hftLedger,c=e.hftTokens,o=(e.hftEvents,e.orderBook),s=e.quotes,i=e.mfCache,l=e.setMfCache,u=e.pactTxStatus,d=e.refresh;return"config"===t.ui?Object(Xe.jsxs)(_.a,{children:[Object(Xe.jsx)($.a,{title:"Contract and UI Configuration"}),Object(Xe.jsx)(ee.a,{children:Object(Xe.jsx)(ca,{})})]}):"orderBook"===t.ui?Object(Xe.jsxs)(_.a,{children:[Object(Xe.jsx)($.a,{title:"Order Book"}),Object(Xe.jsxs)(ee.a,{children:[Object(Xe.jsx)(Ta,{orderBook:o,quotes:s}),Object(Xe.jsx)(Ba,{pactTxStatus:u,tabIdx:"hftTabT",hftTokens:c,hftLedger:n,orderBook:o,quotes:s,mfCache:i,refresh:d})]})]}):"tokens"===t.ui?Object(Xe.jsxs)(_.a,{children:[Object(Xe.jsx)($.a,{title:"Tokens State"}),Object(Xe.jsxs)(ee.a,{children:[Object(Xe.jsx)(Ca,{hftTokens:c}),Object(Xe.jsx)(Da,{pactTxStatus:u,tabIdx:"hftTabT",hftTokens:c,mfCache:i,refresh:d})]})]}):"ledger"===t.ui?Object(Xe.jsxs)(_.a,{children:[Object(Xe.jsx)($.a,{title:"Ledger State"}),Object(Xe.jsxs)(ee.a,{children:[Object(Xe.jsx)(ka,{hftLedger:n}),Object(Xe.jsx)(Ja,{pactTxStatus:u,tabIdx:"hftTabL",hftTokens:c,hftLedger:n,mfCache:i,refresh:d})]})]}):"manifest"===t.ui?Object(Xe.jsxs)(Xe.Fragment,{children:[Object(Xe.jsxs)(_.a,{children:[Object(Xe.jsx)($.a,{title:"URI Local Cache"}),Object(Xe.jsx)(ee.a,{children:Object(Xe.jsx)(Ga,{mfCache:i})})]}),Object(Xe.jsxs)(_.a,{children:[Object(Xe.jsx)($.a,{title:"Datum Local Cache"}),Object(Xe.jsx)(ee.a,{children:Object(Xe.jsx)(Ya,{mfCache:i})})]}),Object(Xe.jsxs)(_.a,{children:[Object(Xe.jsx)($.a,{title:"Manifest Local Cache"}),Object(Xe.jsx)(ee.a,{children:Object(Xe.jsx)(Ha,{mfCache:i})})]}),Object(Xe.jsx)(_.a,{children:Object(Xe.jsx)(ee.a,{children:Object(Xe.jsx)($a,{mfCache:i,setMfCache:l,tabIdx:"mfCache"})})})]}):Object(Xe.jsx)(r.a.Fragment,{children:a({app:"wallet",ui:"config"})})},an=function(){var e=Object(l.e)({app:Object(l.f)(l.c,"wallet"),ui:Object(l.f)(l.c,"config")}),t=Object(h.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(""),s=Object(h.a)(o,2),u=s[0],d=s[1],m=Object(n.useState)({}),p=Object(h.a)(m,2),g=p[0],y=p[1],k=Object(n.useState)({}),C=Object(h.a)(k,2),T={tx:g,setTx:y,txStatus:u,setTxStatus:d,txRes:C[0],setTxRes:C[1]},N=Object(n.useState)([]),w=Object(h.a)(N,2),F=w[0],I=w[1],P=Object(n.useState)([]),A=Object(h.a)(P,2),E=A[0],V=A[1],R=Object(n.useState)([]),W=Object(h.a)(R,2),L=W[0],U=W[1],M=Object(n.useState)([]),J=Object(h.a)(M,2),D=J[0],B=J[1],K=Object(n.useState)([]),z=Object(h.a)(K,2),q=z[0],Z=z[1],G=Object(x.a)("mfCache0")([]),H=Object(h.a)(G,2),Y=H[0],Q=H[1],X=function(){var e=Object(j.a)(O.a.mark((function e(){var t,a,n,r,c,o;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=["LKQj2snGFz7Y8iyYlSm3uIomEAYb0C9zXCkTIPtzkPU","F7tD1QlT8dx8BGyyq-h22OECYS7C3FfcYaRyxt6D1YQ","WSIFGtnAlLCHFcFEHaKGrGeAG4qnTsZRj9BdvzzGa6w","4m9KUKUzbd9hVZoN9uIlJkxYaf1NTz9G7Pc9C9rKTo4","_1rbpI8gnHqflwb-XqHsYEFBCrLNncLplikh9XFG-y8","dhIGiZIWED2Rk6zIrJxG8DeQn8n7WDKg2b5cZD2w4CU","cOJgr8s3j3p5Vk0AAqjdf1TzvWZlFsAiq4pMiOzUo1w","HsePyFCyYUPEPJqG5VymbQkkI3gsPAQn218uWEF_dbs","lWqEvH5U20apKfBn27HOBaW46vQlxhkiDtYHZ5KoYp0","uvtUnp96w2KnxnneYa4kUN1kTvYSa8Ma33UDkQXV0NA","78ngDzxXE8ZyHE-kFm2h7-6Xm8N8uwU_xd1fasO8gWU"],100,a=L.length?L[0].blockHeight-100:0,n=S.a.dropWhile(L,(function(e){return e.height>a})),e.next=6,ja("marmalade.",100,4,!0,t);case 6:r=e.sent,c=S.a.takeWhile(r,(function(e){return e.height>=a})),o=[].concat(Object(f.a)(c),Object(f.a)(n)),console.debug("getHftEvents",{mergedEvents:o,newHftEvents:c,oldHftEvents:n}),U(o);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_=function(){var e=Object(j.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,new Promise((function(e){return setTimeout(e,3e4)}));case 3:return e.next=5,X();case 5:console.debug("janky streaming fired..."),e.next=0;break;case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),$=function(e){var t,a,n=new Set(F.map((function(e){return e.ledgerKey}))),r=[],c=function(e){return e.filter((function(e){var t=e.name;return xa.test(t)}))}(e),o=Object(b.a)(c);try{for(o.s();!(t=o.n()).done;){var s=t.value.params,i=s.account,l=s.id,u="".concat(l,":").concat(i);n.has(u)||(a=i,va.test(a))||(n.add(u),r.push({id:l,account:i,ledgerKey:u}))}}catch(m){o.e(m)}finally{o.f()}if(S.a.size(r)){var d=[].concat(Object(f.a)(F),r);console.debug("getHftLedger",{newHftLedger:d}),I(d)}else console.debug("getHftLedger fired w/o new entries",{existingEntries:n,acctEvs:c,hftLedger:F})},ee=function(e){var t,a=new Set(E.map((function(e){return e.id}))),n=[],r=function(e){return e.filter((function(e){var t=e.name;return ya.test(t)}))}(e),c=Object(b.a)(r);try{for(c.s();!(t=c.n()).done;){var o=t.value.params,s=o.id,i=o.precision,l=o.supply,u=o.policy;a.has(s)||(a.add(s),n.push({id:s,precision:i,supply:l,policy:u}))}}catch(m){c.e(m)}finally{c.f()}if(S.a.size(n)){var d=[].concat(Object(f.a)(E),n);console.debug("getHftTokens",{newHftTokens:d}),V(d)}else console.debug("getHftTokens fired w/o new entries",{existingEntries:a,tokenEvs:r,hftLedger:F})},te={getHftLedger:X,getHftTokens:X,getHftEvents:X};return Object(n.useEffect)((function(){X(),_(),console.debug("App.useEffect[] fired")}),[]),Object(n.useEffect)((function(){B(L.filter((function(e){var t=e.name;return ha.test(t)}))),Z(function(e){return e.filter((function(e){var t=e.name;return Oa.test(t)}))}(L)),ee(L),$(L),console.debug("App.useEffect[hftEvents,setOrderBook] fired",{quotes:q,orderBook:D})}),[L]),Object(Xe.jsx)(Kt,{entriesList:[[At,en]],children:Object(Xe.jsx)(v.a,{children:Object(Xe.jsx)(i.c,{children:"wallet"===a.app?Object(Xe.jsx)(Et,{appRoute:a,setAppRoute:c}):"hft"===a.app?Object(Xe.jsx)(tn,{appRoute:a,setAppRoute:c,hftLedger:F,hftTokens:E,hftEvents:L,orderBook:D,quotes:q,mfCache:Y,setMfCache:Q,pactTxStatus:T,refresh:te}):Object(Xe.jsx)(r.a.Fragment,{children:function(){console.log("Redirecting, this didn't match:",a),c({app:"wallet",ui:"config"})}})})})})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var nn=function(){var e=r.a.useMemo((function(){return Object(u.a)({palette:{primary:{light:"#cb4584",main:"#F78D1E",dark:"#cb4584",contrastText:"#fff"},secondary:{light:"#ffffff",main:"#e3e8ed",dark:"#b1b6bb",contrastText:"#000"}}})}),[]);return Object(Xe.jsx)(r.a.StrictMode,{children:Object(Xe.jsx)(d.a,{theme:e,children:Object(Xe.jsxs)(m.a,{children:[Object(Xe.jsx)(p.a,{}),Object(Xe.jsx)(It,{contractConfigs:{hftAPI:We.hftAPI,manifestAPI:We.manifestAPI,gtpAPI:We.gtpAPI,fqpAPI:We.fqpAPI},globalConfig:We.globalConfig,children:Object(Xe.jsx)(s.a,{basename:"/marmalade",children:Object(Xe.jsx)(l.b,{ReactRouterRoute:i.a,children:Object(Xe.jsx)(an,{})})})})]})})})};o.a.render(Object(Xe.jsx)(nn,{}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},6:function(e,t){var a="1",n="testnet04",r="api.testnet.chainweb.com",c="marmalade",o="ledger",s="kip",i="token-manifest",l="marmalade",u="guard-token-policy",d="marmalade",m="fixed-quote-policy",p="marmalade",b="fixed-quote-royalty-policy",f="memory-wall-gas-station",j="https://".concat(r),h="https://".concat(r,"/chainweb/0.0/").concat(n,"/chain/").concat(a,"/pact"),g=function(){return Math.round((new Date).getTime()/1e3)-15},O={explorerURL:"https://explorer.chainweb.com/".concat(n.slice(0,-2)),networkId:n,dataHost:"data.testnet.chainweb.com:8080",host:h,chainId:a,creationTime:g,gasPrice:1e-6,gasLimit:1e5,ttl:28800},x={contractName:i,gasStationName:f,namespace:s,contractAddress:"".concat(s,".").concat(i),gasStationAddress:"".concat(s,".").concat(f),explorerURL:"https://explorer.chainweb.com/".concat(n.slice(0,-2)),constants:{},meta:{networkId:n,chainId:a,host:h,creationTime:g,gasPrice:O.gasPrice,gasLimit:O.gasLimit,ttl:28800,sender:"mw-free-gas",nonce:"some nonce that doesnt matter"}},y={contractName:o,gasStationName:f,namespace:c,contractAddress:"".concat(c,".").concat(o),gasStationAddress:"".concat(c,".").concat(f),explorerURL:"https://explorer.chainweb.com/".concat(n.slice(0,-2)),constants:{},meta:{networkId:n,chainId:a,host:h,apiHost:j,creationTime:g,gasPrice:O.gasPrice,gasLimit:O.gasLimit,ttl:28800,sender:"mw-free-gas",nonce:"some nonce that doesnt matter"}},S={contractName:u,gasStationName:f,namespace:l,contractAddress:"".concat(l,".").concat(u),gasStationAddress:"".concat(l,".").concat(f),explorerURL:"https://explorer.chainweb.com/".concat(n.slice(0,-2)),constants:{},meta:{networkId:n,chainId:a,host:h,creationTime:g,gasPrice:O.gasPrice,gasLimit:O.gasLimit,ttl:28800,sender:"mw-free-gas",nonce:"some nonce that doesnt matter"}},v={contractName:m,gasStationName:f,namespace:d,contractAddress:"".concat(d,".").concat(m),gasStationAddress:"".concat(d,".").concat(f),explorerURL:"https://explorer.chainweb.com/".concat(n.slice(0,-2)),constants:{},meta:{networkId:n,chainId:a,host:h,creationTime:g,gasPrice:O.gasPrice,gasLimit:O.gasLimit,ttl:28800,sender:"mw-free-gas",nonce:"some nonce that doesnt matter"}},k={contractName:b,gasStationName:f,namespace:p,contractAddress:"".concat(p,".").concat(b),gasStationAddress:"".concat(p,".").concat(f),explorerURL:"https://explorer.chainweb.com/".concat(n.slice(0,-2)),constants:{},meta:{networkId:n,chainId:a,host:h,creationTime:g,gasPrice:O.gasPrice,gasLimit:O.gasLimit,ttl:28800,sender:"mw-free-gas",nonce:"some nonce that doesnt matter"}};e.exports={manifestAPI:x,hftAPI:y,gtpAPI:S,fqpAPI:v,fqrpAPI:k,globalConfig:O,keyFormatter:function(e){return e.replace(new RegExp("[A-Z]+","gm")," $&").replace(new RegExp("^[a-z]","gm"),(function(e){return e.toUpperCase()}))}}}},[[465,1,2]]]);
//# sourceMappingURL=main.a7a8e43b.chunk.js.map